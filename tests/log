2022/11/17 23:59:35.127 lib.rs:542: [WARN] environment variable `TZ` is missing, using `/etc/localtime`
2022/11/17 23:59:35.127 lib.rs:546: [INFO] environment variable is present, GRPC_POLL_STRATEGY: epollex
test_witness_switch_witness 2022/11/17 23:59:35.128 runner.rs:40: [DEBG] case start, name: raftstore::test_witness::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.128 thread.rs:396: [DEBG] tid 605349 thread name is timer::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.128 :172: [DEBG] Using polling engine: epollex
test_witness_switch_witness 2022/11/17 23:59:35.128 :42: [DEBG] registering LB policy factory for "grpclb"
test_witness_switch_witness 2022/11/17 23:59:35.128 :42: [DEBG] registering LB policy factory for "priority_experimental"
test_witness_switch_witness 2022/11/17 23:59:35.128 :42: [DEBG] registering LB policy factory for "weighted_target_experimental"
test_witness_switch_witness 2022/11/17 23:59:35.128 :42: [DEBG] registering LB policy factory for "pick_first"
test_witness_switch_witness 2022/11/17 23:59:35.128 :42: [DEBG] registering LB policy factory for "round_robin"
test_witness_switch_witness 2022/11/17 23:59:35.128 :42: [DEBG] registering LB policy factory for "ring_hash_experimental"
test_witness_switch_witness 2022/11/17 23:59:35.128 :624: [DEBG] Using ares dns resolver
test_witness_switch_witness 2022/11/17 23:59:35.128 :33: [DEBG] registering certificate provider factory for "file_watcher"
test_witness_switch_witness 2022/11/17 23:59:35.129 :42: [DEBG] registering LB policy factory for "cds_experimental"
test_witness_switch_witness 2022/11/17 23:59:35.129 :42: [DEBG] registering LB policy factory for "xds_cluster_impl_experimental"
test_witness_switch_witness 2022/11/17 23:59:35.129 :42: [DEBG] registering LB policy factory for "xds_cluster_resolver_experimental"
test_witness_switch_witness 2022/11/17 23:59:35.129 :42: [DEBG] registering LB policy factory for "xds_cluster_manager_experimental"
test_witness_switch_witness-0 2022/11/17 23:59:35.130 thread.rs:396: [DEBG] tid 605355 thread name is snap-worker::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.275 mod.rs:126: [INFO] encryption: none of key dictionary and file dictionary are found.
test_witness_switch_witness 2022/11/17 23:59:35.275 mod.rs:509: [INFO] encryption is disabled.
test_witness_switch_witness 2022/11/17 23:59:35.275 config.rs:271: [WARN] Memory allocator nodump is not supported, continue with default allocator
test_witness_switch_witness 2022/11/17 23:59:35.275 pipe_builder.rs:105: [INFO] Create raft log directory: /tmp/test_clusterxgVq8p/raft-engine
test_witness_switch_witness-0 2022/11/17 23:59:35.275 thread.rs:396: [DEBG] tid 605357 thread name is sst-recovery::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.277 engine.rs:91: [INFO] Recovering raft logs takes 1.729214ms
test_witness_switch_witness 2022/11/17 23:59:35.278 config.rs:671: [WARN] compaction guard is disabled due to region info provider not available
test_witness_switch_witness 2022/11/17 23:59:35.278 config.rs:786: [WARN] compaction guard is disabled due to region info provider not available
test_witness_switch_witness 2022/11/17 23:59:35.373 mod.rs:126: [INFO] encryption: none of key dictionary and file dictionary are found.
test_witness_switch_witness 2022/11/17 23:59:35.374 mod.rs:509: [INFO] encryption is disabled.
test_witness_switch_witness 2022/11/17 23:59:35.374 config.rs:271: [WARN] Memory allocator nodump is not supported, continue with default allocator
test_witness_switch_witness 2022/11/17 23:59:35.374 pipe_builder.rs:105: [INFO] Create raft log directory: /tmp/test_clustertni2Fl/raft-engine
test_witness_switch_witness-0 2022/11/17 23:59:35.374 thread.rs:396: [DEBG] tid 605383 thread name is sst-recovery::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.375 engine.rs:91: [INFO] Recovering raft logs takes 1.115575ms
test_witness_switch_witness 2022/11/17 23:59:35.376 config.rs:671: [WARN] compaction guard is disabled due to region info provider not available
test_witness_switch_witness 2022/11/17 23:59:35.376 config.rs:786: [WARN] compaction guard is disabled due to region info provider not available
test_witness_switch_witness 2022/11/17 23:59:35.472 mod.rs:126: [INFO] encryption: none of key dictionary and file dictionary are found.
test_witness_switch_witness 2022/11/17 23:59:35.472 mod.rs:509: [INFO] encryption is disabled.
test_witness_switch_witness 2022/11/17 23:59:35.472 config.rs:271: [WARN] Memory allocator nodump is not supported, continue with default allocator
test_witness_switch_witness 2022/11/17 23:59:35.473 pipe_builder.rs:105: [INFO] Create raft log directory: /tmp/test_clusterw8ycyH/raft-engine
test_witness_switch_witness-0 2022/11/17 23:59:35.473 thread.rs:396: [DEBG] tid 605404 thread name is sst-recovery::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.474 engine.rs:91: [INFO] Recovering raft logs takes 933.726µs
test_witness_switch_witness 2022/11/17 23:59:35.475 config.rs:671: [WARN] compaction guard is disabled due to region info provider not available
test_witness_switch_witness 2022/11/17 23:59:35.475 config.rs:786: [WARN] compaction guard is disabled due to region info provider not available
test_witness_switch_witness 2022/11/17 23:59:35.606 cluster.rs:338: [DEBG] starting node 1
test_witness_switch_witness 2022/11/17 23:59:35.606 cluster.rs:359: [DEBG] calling run node, node_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:35.607 thread.rs:396: [DEBG] tid 605425 thread name is background::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.607 thread.rs:396: [DEBG] tid 605426 thread name is background::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.607 thread.rs:396: [DEBG] tid 605427 thread name is region-collector-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.607 thread.rs:396: [DEBG] tid 605428 thread name is test-pd-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.608 thread.rs:396: [DEBG] tid 605429 thread name is store-read-low::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.608 thread.rs:396: [DEBG] tid 605430 thread name is store-read-low::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.608 thread.rs:396: [DEBG] tid 605431 thread name is store-read-normal::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.608 thread.rs:396: [DEBG] tid 605432 thread name is store-read-normal::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.609 thread.rs:396: [DEBG] tid 605433 thread name is store-read-high::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.609 thread.rs:396: [DEBG] tid 605434 thread name is store-read-high::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.609 thread.rs:396: [DEBG] tid 605435 thread name is gc-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.609 thread.rs:396: [DEBG] tid 605436 thread name is lock-collector::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.609 thread.rs:396: [DEBG] tid 605437 thread name is resource-metering-recorder::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.610 thread.rs:396: [DEBG] tid 605438 thread name is resource-metering-reporter::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.610 thread.rs:396: [DEBG] tid 605441 thread name is resource-metering-single-target-data-sink::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.611 thread.rs:396: [DEBG] tid 605442 thread name is sched-worker-pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.612 thread.rs:396: [DEBG] tid 605443 thread name is sched-worker-pool::test_witness_switch_witness-1
test_witness_switch_witness-2 2022/11/17 23:59:35.612 thread.rs:396: [DEBG] tid 605444 thread name is sched-worker-pool::test_witness_switch_witness-2
test_witness_switch_witness-3 2022/11/17 23:59:35.612 thread.rs:396: [DEBG] tid 605445 thread name is sched-worker-pool::test_witness_switch_witness-3
test_witness_switch_witness-4 2022/11/17 23:59:35.612 thread.rs:396: [DEBG] tid 605446 thread name is sched-worker-pool::test_witness_switch_witness-4
test_witness_switch_witness-5 2022/11/17 23:59:35.612 thread.rs:396: [DEBG] tid 605447 thread name is sched-worker-pool::test_witness_switch_witness-5
test_witness_switch_witness-6 2022/11/17 23:59:35.612 thread.rs:396: [DEBG] tid 605448 thread name is sched-worker-pool::test_witness_switch_witness-6
test_witness_switch_witness-7 2022/11/17 23:59:35.613 thread.rs:396: [DEBG] tid 605449 thread name is sched-worker-pool::test_witness_switch_witness-7
test_witness_switch_witness-8 2022/11/17 23:59:35.613 thread.rs:396: [DEBG] tid 605450 thread name is sched-worker-pool::test_witness_switch_witness-8
test_witness_switch_witness-9 2022/11/17 23:59:35.613 thread.rs:396: [DEBG] tid 605451 thread name is sched-worker-pool::test_witness_switch_witness-9
test_witness_switch_witness-10 2022/11/17 23:59:35.613 thread.rs:396: [DEBG] tid 605452 thread name is sched-worker-pool::test_witness_switch_witness-10
test_witness_switch_witness-11 2022/11/17 23:59:35.613 thread.rs:396: [DEBG] tid 605453 thread name is sched-worker-pool::test_witness_switch_witness-11
test_witness_switch_witness-12 2022/11/17 23:59:35.613 thread.rs:396: [DEBG] tid 605454 thread name is sched-worker-pool::test_witness_switch_witness-12
test_witness_switch_witness-13 2022/11/17 23:59:35.614 thread.rs:396: [DEBG] tid 605455 thread name is sched-worker-pool::test_witness_switch_witness-13
test_witness_switch_witness-14 2022/11/17 23:59:35.614 thread.rs:396: [DEBG] tid 605456 thread name is sched-worker-pool::test_witness_switch_witness-14
test_witness_switch_witness-15 2022/11/17 23:59:35.614 thread.rs:396: [DEBG] tid 605457 thread name is sched-worker-pool::test_witness_switch_witness-15
test_witness_switch_witness-16 2022/11/17 23:59:35.614 thread.rs:396: [DEBG] tid 605458 thread name is sched-worker-pool::test_witness_switch_witness-16
test_witness_switch_witness-17 2022/11/17 23:59:35.614 thread.rs:396: [DEBG] tid 605459 thread name is sched-worker-pool::test_witness_switch_witness-17
test_witness_switch_witness-18 2022/11/17 23:59:35.615 thread.rs:396: [DEBG] tid 605460 thread name is sched-worker-pool::test_witness_switch_witness-18
test_witness_switch_witness-19 2022/11/17 23:59:35.615 thread.rs:396: [DEBG] tid 605461 thread name is sched-worker-pool::test_witness_switch_witness-19
test_witness_switch_witness-21 2022/11/17 23:59:35.615 thread.rs:396: [DEBG] tid 605463 thread name is sched-worker-pool::test_witness_switch_witness-21
test_witness_switch_witness-20 2022/11/17 23:59:35.615 thread.rs:396: [DEBG] tid 605462 thread name is sched-worker-pool::test_witness_switch_witness-20
test_witness_switch_witness-22 2022/11/17 23:59:35.615 thread.rs:396: [DEBG] tid 605464 thread name is sched-worker-pool::test_witness_switch_witness-22
test_witness_switch_witness-23 2022/11/17 23:59:35.615 thread.rs:396: [DEBG] tid 605465 thread name is sched-worker-pool::test_witness_switch_witness-23
test_witness_switch_witness-24 2022/11/17 23:59:35.616 thread.rs:396: [DEBG] tid 605466 thread name is sched-worker-pool::test_witness_switch_witness-24
test_witness_switch_witness-25 2022/11/17 23:59:35.616 thread.rs:396: [DEBG] tid 605467 thread name is sched-worker-pool::test_witness_switch_witness-25
test_witness_switch_witness-26 2022/11/17 23:59:35.616 thread.rs:396: [DEBG] tid 605468 thread name is sched-worker-pool::test_witness_switch_witness-26
test_witness_switch_witness-27 2022/11/17 23:59:35.616 thread.rs:396: [DEBG] tid 605469 thread name is sched-worker-pool::test_witness_switch_witness-27
test_witness_switch_witness-28 2022/11/17 23:59:35.616 thread.rs:396: [DEBG] tid 605470 thread name is sched-worker-pool::test_witness_switch_witness-28
test_witness_switch_witness-29 2022/11/17 23:59:35.617 thread.rs:396: [DEBG] tid 605471 thread name is sched-worker-pool::test_witness_switch_witness-29
test_witness_switch_witness-30 2022/11/17 23:59:35.617 thread.rs:396: [DEBG] tid 605472 thread name is sched-worker-pool::test_witness_switch_witness-30
test_witness_switch_witness-31 2022/11/17 23:59:35.617 thread.rs:396: [DEBG] tid 605473 thread name is sched-worker-pool::test_witness_switch_witness-31
test_witness_switch_witness-0 2022/11/17 23:59:35.701 thread.rs:396: [DEBG] tid 605474 thread name is sched-high-pri-pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.701 thread.rs:396: [DEBG] tid 605475 thread name is sched-high-pri-pool::test_witness_switch_witness-1
test_witness_switch_witness-2 2022/11/17 23:59:35.701 thread.rs:396: [DEBG] tid 605476 thread name is sched-high-pri-pool::test_witness_switch_witness-2
test_witness_switch_witness-3 2022/11/17 23:59:35.701 thread.rs:396: [DEBG] tid 605477 thread name is sched-high-pri-pool::test_witness_switch_witness-3
test_witness_switch_witness-4 2022/11/17 23:59:35.702 thread.rs:396: [DEBG] tid 605478 thread name is sched-high-pri-pool::test_witness_switch_witness-4
test_witness_switch_witness-5 2022/11/17 23:59:35.702 thread.rs:396: [DEBG] tid 605479 thread name is sched-high-pri-pool::test_witness_switch_witness-5
test_witness_switch_witness-6 2022/11/17 23:59:35.702 thread.rs:396: [DEBG] tid 605480 thread name is sched-high-pri-pool::test_witness_switch_witness-6
test_witness_switch_witness-7 2022/11/17 23:59:35.702 thread.rs:396: [DEBG] tid 605481 thread name is sched-high-pri-pool::test_witness_switch_witness-7
test_witness_switch_witness-8 2022/11/17 23:59:35.702 thread.rs:396: [DEBG] tid 605482 thread name is sched-high-pri-pool::test_witness_switch_witness-8
test_witness_switch_witness-9 2022/11/17 23:59:35.703 thread.rs:396: [DEBG] tid 605483 thread name is sched-high-pri-pool::test_witness_switch_witness-9
test_witness_switch_witness-10 2022/11/17 23:59:35.703 thread.rs:396: [DEBG] tid 605484 thread name is sched-high-pri-pool::test_witness_switch_witness-10
test_witness_switch_witness-11 2022/11/17 23:59:35.703 thread.rs:396: [DEBG] tid 605485 thread name is sched-high-pri-pool::test_witness_switch_witness-11
test_witness_switch_witness-12 2022/11/17 23:59:35.703 thread.rs:396: [DEBG] tid 605486 thread name is sched-high-pri-pool::test_witness_switch_witness-12
test_witness_switch_witness-13 2022/11/17 23:59:35.703 thread.rs:396: [DEBG] tid 605487 thread name is sched-high-pri-pool::test_witness_switch_witness-13
test_witness_switch_witness-14 2022/11/17 23:59:35.704 thread.rs:396: [DEBG] tid 605488 thread name is sched-high-pri-pool::test_witness_switch_witness-14
test_witness_switch_witness-15 2022/11/17 23:59:35.704 thread.rs:396: [DEBG] tid 605489 thread name is sched-high-pri-pool::test_witness_switch_witness-15
test_witness_switch_witness-16 2022/11/17 23:59:35.704 thread.rs:396: [DEBG] tid 605490 thread name is sched-high-pri-pool::test_witness_switch_witness-16
test_witness_switch_witness-17 2022/11/17 23:59:35.704 thread.rs:396: [DEBG] tid 605491 thread name is sched-high-pri-pool::test_witness_switch_witness-17
test_witness_switch_witness-18 2022/11/17 23:59:35.704 thread.rs:396: [DEBG] tid 605492 thread name is sched-high-pri-pool::test_witness_switch_witness-18
test_witness_switch_witness-19 2022/11/17 23:59:35.705 thread.rs:396: [DEBG] tid 605493 thread name is sched-high-pri-pool::test_witness_switch_witness-19
test_witness_switch_witness-21 2022/11/17 23:59:35.705 thread.rs:396: [DEBG] tid 605495 thread name is sched-high-pri-pool::test_witness_switch_witness-21
test_witness_switch_witness-20 2022/11/17 23:59:35.705 thread.rs:396: [DEBG] tid 605494 thread name is sched-high-pri-pool::test_witness_switch_witness-20
test_witness_switch_witness-22 2022/11/17 23:59:35.705 thread.rs:396: [DEBG] tid 605496 thread name is sched-high-pri-pool::test_witness_switch_witness-22
test_witness_switch_witness-23 2022/11/17 23:59:35.705 thread.rs:396: [DEBG] tid 605497 thread name is sched-high-pri-pool::test_witness_switch_witness-23
test_witness_switch_witness-24 2022/11/17 23:59:35.706 thread.rs:396: [DEBG] tid 605498 thread name is sched-high-pri-pool::test_witness_switch_witness-24
test_witness_switch_witness-25 2022/11/17 23:59:35.706 thread.rs:396: [DEBG] tid 605499 thread name is sched-high-pri-pool::test_witness_switch_witness-25
test_witness_switch_witness-26 2022/11/17 23:59:35.706 thread.rs:396: [DEBG] tid 605500 thread name is sched-high-pri-pool::test_witness_switch_witness-26
test_witness_switch_witness-27 2022/11/17 23:59:35.706 thread.rs:396: [DEBG] tid 605501 thread name is sched-high-pri-pool::test_witness_switch_witness-27
test_witness_switch_witness-28 2022/11/17 23:59:35.706 thread.rs:396: [DEBG] tid 605502 thread name is sched-high-pri-pool::test_witness_switch_witness-28
test_witness_switch_witness-29 2022/11/17 23:59:35.707 thread.rs:396: [DEBG] tid 605503 thread name is sched-high-pri-pool::test_witness_switch_witness-29
test_witness_switch_witness-30 2022/11/17 23:59:35.707 thread.rs:396: [DEBG] tid 605504 thread name is sched-high-pri-pool::test_witness_switch_witness-30
test_witness_switch_witness-31 2022/11/17 23:59:35.707 thread.rs:396: [DEBG] tid 605505 thread name is sched-high-pri-pool::test_witness_switch_witness-31
test_witness_switch_witness 2022/11/17 23:59:35.707 scheduler.rs:420: [WARN] initialized the transaction scheduler, takes: 90
test_witness_switch_witness 2022/11/17 23:59:35.707 mod.rs:286: [INFO] Storage started.
2022/11/17 23:59:35.708 thread.rs:396: [DEBG] tid 605506 thread name is sst-importer0
test_witness_switch_witness-0 2022/11/17 23:59:35.708 thread.rs:396: [DEBG] tid 605507 thread name is yatp_pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.708 thread.rs:396: [DEBG] tid 605508 thread name is yatp_pool::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.708 thread.rs:396: [DEBG] tid 605509 thread name is yatp_pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.709 thread.rs:396: [DEBG] tid 605510 thread name is yatp_pool::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.709 thread.rs:396: [DEBG] tid 605511 thread name is yatp_pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.709 thread.rs:396: [DEBG] tid 605512 thread name is yatp_pool::test_witness_switch_witness-1
test_witness_switch_witness 2022/11/17 23:59:35.709 thread.rs:396: [DEBG] tid 605513 thread name is debugger::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.759 config.rs:517: [WARN] Election timeout ticks needs to be same across all the cluster, otherwise it may lead to inconsistency.
test_witness_switch_witness-0 2022/11/17 23:59:35.759 thread.rs:396: [DEBG] tid 605514 thread name is snap-handler::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.760 :353: [INFO] TCP_USER_TIMEOUT is available. TCP_USER_TIMEOUT will be used thereafter
test_witness_switch_witness 2022/11/17 23:59:35.761 node.rs:236: [INFO] trying to bootstrap cluster, region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, store_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.776 node.rs:245: [INFO] put store to PD, store: id: 1 address: "127.0.0.1:29876" version: "6.5.0-alpha" peer_address: "127.0.0.1:29876" status_address: "127.0.0.1:20180" git_hash: "Unknown git hash" start_timestamp: 1668700775 deploy_path: "/workspace/pingcap/tikv/target/debug/deps"
test_witness_switch_witness 2022/11/17 23:59:35.776 node.rs:382: [INFO] initializing replication mode, store_id: 1, status: None
test_witness_switch_witness 2022/11/17 23:59:35.776 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.776 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 2
test_witness_switch_witness 2022/11/17 23:59:35.776 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 3
test_witness_switch_witness 2022/11/17 23:59:35.776 node.rs:514: [INFO] start raft store thread, store_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:35.776 thread.rs:396: [DEBG] tid 605516 thread name is purge-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.776 thread.rs:396: [DEBG] tid 605517 thread name is cleanup-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.777 thread.rs:396: [DEBG] tid 605518 thread name is region-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.777 thread.rs:396: [DEBG] tid 605519 thread name is raftlog-fetch-worker::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.777 snap.rs:1393: [INFO] Initializing SnapManager, encryption is enabled: false
test_witness_switch_witness-0 2022/11/17 23:59:35.777 thread.rs:396: [DEBG] tid 605520 thread name is refreash-config-worker::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.778 peer.rs:263: [INFO] create peer, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.778 peer_storage.rs:302: [DEBG] creating storage on specified path, path: "/tmp/test_clusterxgVq8p/db", peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.778 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.778 raft.rs:2789: [DEBG] reset election timeout 0 -> 46 at 0, election_elapsed: 0, timeout: 46, prev_timeout: 0, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.778 raft.rs:1120: [INFO] became follower at term 5, term: 5, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.778 raft.rs:384: [INFO] newRaft, peers: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, last term: 5, last index: 5, applied: 5, commit: 5, term: 5, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.778 raw_node.rs:315: [INFO] RawNode created with id 1., id: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.778 peer.rs:1185: [DEBG] init commit group, peer_id: 1, region_id: 1, state: GlobalReplicationState { status: , group: StoreGroup { labels: {1: [], 2: [], 3: []}, label_ids: {}, stores: {}, label_key: "", version: 0, dirty: false }, group_buffer: [] }
test_witness_switch_witness 2022/11/17 23:59:35.778 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(CreateRegion { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, role: Follower })
test_witness_switch_witness 2022/11/17 23:59:35.778 future.rs:72: [DEBG] scheduling task ChangeRole { role: Follower }
test_witness_switch_witness 2022/11/17 23:59:35.778 store.rs:1229: [INFO] start store, takes: 971.756µs, merge_count: 0, applying_count: 0, tombstone_count: 0, region_count: 1, store_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.779 store.rs:1283: [INFO] cleans up garbage data, takes: 31.49µs, garbage_range_count: 2, store_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.780 thread.rs:396: [DEBG] tid 605523 thread name is steady-timer::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.781 thread.rs:396: [DEBG] tid 605524 thread name is raftstore-1-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.781 thread.rs:396: [DEBG] tid 605525 thread name is raftstore-1-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.782 thread.rs:396: [DEBG] tid 605526 thread name is apply-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.782 pool.rs:123: [DEBG] scheduling task CollectorReg
test_witness_switch_witness 2022/11/17 23:59:35.782 thread.rs:396: [DEBG] tid 605527 thread name is apply-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.782 thread.rs:396: [DEBG] tid 605528 thread name is stats-monitor::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.782 store.rs:1727: [WARN] set thread priority for raftstore failed, error: Os { code: 13, kind: PermissionDenied, message: "Permission denied" }
test_witness_switch_witness 2022/11/17 23:59:35.782 future.rs:150: [INFO] starting working thread, worker: waiter-manager
test_witness_switch_witness 2022/11/17 23:59:35.782 thread.rs:396: [DEBG] tid 605529 thread name is waiter-manager::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.782 future.rs:150: [INFO] starting working thread, worker: deadlock-detector
test_witness_switch_witness 2022/11/17 23:59:35.783 thread.rs:396: [DEBG] tid 605531 thread name is deadlock-detector::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.783 deadlock.rs:1012: [DEBG] handle change role, role: Follower
test_witness_switch_witness 2022/11/17 23:59:35.783 thread.rs:396: [DEBG] tid 605532 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.783 thread.rs:396: [DEBG] tid 605533 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.783 thread.rs:396: [DEBG] tid 605534 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.783 thread.rs:396: [DEBG] tid 605535 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.783 server.rs:267: [INFO] listening on addr, addr: 127.0.0.1:29876
test_witness_switch_witness 2022/11/17 23:59:35.790 server.rs:312: [INFO] TiKV is ready to serve
test_witness_switch_witness 2022/11/17 23:59:35.790 cluster.rs:364: [DEBG] node 1 started
test_witness_switch_witness 2022/11/17 23:59:35.790 cluster.rs:338: [DEBG] starting node 2
test_witness_switch_witness 2022/11/17 23:59:35.790 cluster.rs:359: [DEBG] calling run node, node_id: 2
test_witness_switch_witness-0 2022/11/17 23:59:35.790 thread.rs:396: [DEBG] tid 605536 thread name is background::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.791 thread.rs:396: [DEBG] tid 605537 thread name is background::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.791 thread.rs:396: [DEBG] tid 605538 thread name is region-collector-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.791 thread.rs:396: [DEBG] tid 605539 thread name is test-pd-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.791 thread.rs:396: [DEBG] tid 605540 thread name is store-read-low::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.791 thread.rs:396: [DEBG] tid 605541 thread name is store-read-low::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.792 thread.rs:396: [DEBG] tid 605542 thread name is store-read-normal::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.792 thread.rs:396: [DEBG] tid 605543 thread name is store-read-normal::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.792 thread.rs:396: [DEBG] tid 605544 thread name is store-read-high::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.792 thread.rs:396: [DEBG] tid 605545 thread name is store-read-high::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.792 thread.rs:396: [DEBG] tid 605547 thread name is gc-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.793 thread.rs:396: [DEBG] tid 605548 thread name is lock-collector::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.793 thread.rs:396: [DEBG] tid 605549 thread name is resource-metering-recorder::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.793 thread.rs:396: [DEBG] tid 605550 thread name is resource-metering-reporter::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.793 thread.rs:396: [DEBG] tid 605553 thread name is resource-metering-single-target-data-sink::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.890 thread.rs:396: [DEBG] tid 605554 thread name is sched-worker-pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.891 thread.rs:396: [DEBG] tid 605555 thread name is sched-worker-pool::test_witness_switch_witness-1
test_witness_switch_witness-2 2022/11/17 23:59:35.891 thread.rs:396: [DEBG] tid 605556 thread name is sched-worker-pool::test_witness_switch_witness-2
test_witness_switch_witness-3 2022/11/17 23:59:35.891 thread.rs:396: [DEBG] tid 605557 thread name is sched-worker-pool::test_witness_switch_witness-3
test_witness_switch_witness-4 2022/11/17 23:59:35.891 thread.rs:396: [DEBG] tid 605558 thread name is sched-worker-pool::test_witness_switch_witness-4
test_witness_switch_witness-5 2022/11/17 23:59:35.891 thread.rs:396: [DEBG] tid 605559 thread name is sched-worker-pool::test_witness_switch_witness-5
test_witness_switch_witness-6 2022/11/17 23:59:35.892 thread.rs:396: [DEBG] tid 605560 thread name is sched-worker-pool::test_witness_switch_witness-6
test_witness_switch_witness-7 2022/11/17 23:59:35.892 thread.rs:396: [DEBG] tid 605561 thread name is sched-worker-pool::test_witness_switch_witness-7
test_witness_switch_witness-8 2022/11/17 23:59:35.892 thread.rs:396: [DEBG] tid 605562 thread name is sched-worker-pool::test_witness_switch_witness-8
test_witness_switch_witness-9 2022/11/17 23:59:35.892 thread.rs:396: [DEBG] tid 605563 thread name is sched-worker-pool::test_witness_switch_witness-9
test_witness_switch_witness-10 2022/11/17 23:59:35.892 thread.rs:396: [DEBG] tid 605564 thread name is sched-worker-pool::test_witness_switch_witness-10
test_witness_switch_witness-11 2022/11/17 23:59:35.893 thread.rs:396: [DEBG] tid 605565 thread name is sched-worker-pool::test_witness_switch_witness-11
test_witness_switch_witness-12 2022/11/17 23:59:35.893 thread.rs:396: [DEBG] tid 605566 thread name is sched-worker-pool::test_witness_switch_witness-12
test_witness_switch_witness-13 2022/11/17 23:59:35.893 thread.rs:396: [DEBG] tid 605567 thread name is sched-worker-pool::test_witness_switch_witness-13
test_witness_switch_witness-14 2022/11/17 23:59:35.893 thread.rs:396: [DEBG] tid 605568 thread name is sched-worker-pool::test_witness_switch_witness-14
test_witness_switch_witness-15 2022/11/17 23:59:35.893 thread.rs:396: [DEBG] tid 605569 thread name is sched-worker-pool::test_witness_switch_witness-15
test_witness_switch_witness-16 2022/11/17 23:59:35.894 thread.rs:396: [DEBG] tid 605570 thread name is sched-worker-pool::test_witness_switch_witness-16
test_witness_switch_witness-17 2022/11/17 23:59:35.894 thread.rs:396: [DEBG] tid 605571 thread name is sched-worker-pool::test_witness_switch_witness-17
test_witness_switch_witness-18 2022/11/17 23:59:35.894 thread.rs:396: [DEBG] tid 605572 thread name is sched-worker-pool::test_witness_switch_witness-18
test_witness_switch_witness-19 2022/11/17 23:59:35.894 thread.rs:396: [DEBG] tid 605573 thread name is sched-worker-pool::test_witness_switch_witness-19
test_witness_switch_witness-20 2022/11/17 23:59:35.894 thread.rs:396: [DEBG] tid 605574 thread name is sched-worker-pool::test_witness_switch_witness-20
test_witness_switch_witness-21 2022/11/17 23:59:35.894 thread.rs:396: [DEBG] tid 605575 thread name is sched-worker-pool::test_witness_switch_witness-21
test_witness_switch_witness-22 2022/11/17 23:59:35.895 thread.rs:396: [DEBG] tid 605576 thread name is sched-worker-pool::test_witness_switch_witness-22
test_witness_switch_witness-23 2022/11/17 23:59:35.895 thread.rs:396: [DEBG] tid 605577 thread name is sched-worker-pool::test_witness_switch_witness-23
test_witness_switch_witness-24 2022/11/17 23:59:35.895 thread.rs:396: [DEBG] tid 605578 thread name is sched-worker-pool::test_witness_switch_witness-24
test_witness_switch_witness-25 2022/11/17 23:59:35.895 thread.rs:396: [DEBG] tid 605579 thread name is sched-worker-pool::test_witness_switch_witness-25
test_witness_switch_witness-26 2022/11/17 23:59:35.895 thread.rs:396: [DEBG] tid 605580 thread name is sched-worker-pool::test_witness_switch_witness-26
test_witness_switch_witness-27 2022/11/17 23:59:35.895 thread.rs:396: [DEBG] tid 605581 thread name is sched-worker-pool::test_witness_switch_witness-27
test_witness_switch_witness-28 2022/11/17 23:59:35.896 thread.rs:396: [DEBG] tid 605582 thread name is sched-worker-pool::test_witness_switch_witness-28
test_witness_switch_witness-29 2022/11/17 23:59:35.896 thread.rs:396: [DEBG] tid 605583 thread name is sched-worker-pool::test_witness_switch_witness-29
test_witness_switch_witness-30 2022/11/17 23:59:35.896 thread.rs:396: [DEBG] tid 605584 thread name is sched-worker-pool::test_witness_switch_witness-30
test_witness_switch_witness-31 2022/11/17 23:59:35.896 thread.rs:396: [DEBG] tid 605585 thread name is sched-worker-pool::test_witness_switch_witness-31
test_witness_switch_witness-0 2022/11/17 23:59:35.897 thread.rs:396: [DEBG] tid 605586 thread name is sched-high-pri-pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.897 thread.rs:396: [DEBG] tid 605587 thread name is sched-high-pri-pool::test_witness_switch_witness-1
test_witness_switch_witness-2 2022/11/17 23:59:35.897 thread.rs:396: [DEBG] tid 605588 thread name is sched-high-pri-pool::test_witness_switch_witness-2
test_witness_switch_witness-3 2022/11/17 23:59:35.897 thread.rs:396: [DEBG] tid 605589 thread name is sched-high-pri-pool::test_witness_switch_witness-3
test_witness_switch_witness-4 2022/11/17 23:59:35.898 thread.rs:396: [DEBG] tid 605590 thread name is sched-high-pri-pool::test_witness_switch_witness-4
test_witness_switch_witness-5 2022/11/17 23:59:35.898 thread.rs:396: [DEBG] tid 605591 thread name is sched-high-pri-pool::test_witness_switch_witness-5
test_witness_switch_witness-6 2022/11/17 23:59:35.898 thread.rs:396: [DEBG] tid 605592 thread name is sched-high-pri-pool::test_witness_switch_witness-6
test_witness_switch_witness-7 2022/11/17 23:59:35.898 thread.rs:396: [DEBG] tid 605593 thread name is sched-high-pri-pool::test_witness_switch_witness-7
test_witness_switch_witness-8 2022/11/17 23:59:35.898 thread.rs:396: [DEBG] tid 605594 thread name is sched-high-pri-pool::test_witness_switch_witness-8
test_witness_switch_witness-9 2022/11/17 23:59:35.899 thread.rs:396: [DEBG] tid 605595 thread name is sched-high-pri-pool::test_witness_switch_witness-9
test_witness_switch_witness-10 2022/11/17 23:59:35.899 thread.rs:396: [DEBG] tid 605596 thread name is sched-high-pri-pool::test_witness_switch_witness-10
test_witness_switch_witness-11 2022/11/17 23:59:35.899 thread.rs:396: [DEBG] tid 605597 thread name is sched-high-pri-pool::test_witness_switch_witness-11
test_witness_switch_witness-12 2022/11/17 23:59:35.899 thread.rs:396: [DEBG] tid 605598 thread name is sched-high-pri-pool::test_witness_switch_witness-12
test_witness_switch_witness-13 2022/11/17 23:59:35.900 thread.rs:396: [DEBG] tid 605599 thread name is sched-high-pri-pool::test_witness_switch_witness-13
test_witness_switch_witness-14 2022/11/17 23:59:35.900 thread.rs:396: [DEBG] tid 605600 thread name is sched-high-pri-pool::test_witness_switch_witness-14
test_witness_switch_witness-15 2022/11/17 23:59:35.900 thread.rs:396: [DEBG] tid 605601 thread name is sched-high-pri-pool::test_witness_switch_witness-15
test_witness_switch_witness-16 2022/11/17 23:59:35.900 thread.rs:396: [DEBG] tid 605602 thread name is sched-high-pri-pool::test_witness_switch_witness-16
test_witness_switch_witness-17 2022/11/17 23:59:35.900 thread.rs:396: [DEBG] tid 605603 thread name is sched-high-pri-pool::test_witness_switch_witness-17
test_witness_switch_witness-18 2022/11/17 23:59:35.900 thread.rs:396: [DEBG] tid 605604 thread name is sched-high-pri-pool::test_witness_switch_witness-18
test_witness_switch_witness-20 2022/11/17 23:59:35.901 thread.rs:396: [DEBG] tid 605606 thread name is sched-high-pri-pool::test_witness_switch_witness-20
test_witness_switch_witness-19 2022/11/17 23:59:35.901 thread.rs:396: [DEBG] tid 605605 thread name is sched-high-pri-pool::test_witness_switch_witness-19
test_witness_switch_witness-21 2022/11/17 23:59:35.901 thread.rs:396: [DEBG] tid 605607 thread name is sched-high-pri-pool::test_witness_switch_witness-21
test_witness_switch_witness-22 2022/11/17 23:59:35.901 thread.rs:396: [DEBG] tid 605608 thread name is sched-high-pri-pool::test_witness_switch_witness-22
test_witness_switch_witness-23 2022/11/17 23:59:35.902 thread.rs:396: [DEBG] tid 605609 thread name is sched-high-pri-pool::test_witness_switch_witness-23
test_witness_switch_witness-24 2022/11/17 23:59:35.902 thread.rs:396: [DEBG] tid 605610 thread name is sched-high-pri-pool::test_witness_switch_witness-24
test_witness_switch_witness-25 2022/11/17 23:59:35.902 thread.rs:396: [DEBG] tid 605611 thread name is sched-high-pri-pool::test_witness_switch_witness-25
test_witness_switch_witness-26 2022/11/17 23:59:35.902 thread.rs:396: [DEBG] tid 605612 thread name is sched-high-pri-pool::test_witness_switch_witness-26
test_witness_switch_witness-27 2022/11/17 23:59:35.902 thread.rs:396: [DEBG] tid 605613 thread name is sched-high-pri-pool::test_witness_switch_witness-27
test_witness_switch_witness-28 2022/11/17 23:59:35.903 thread.rs:396: [DEBG] tid 605614 thread name is sched-high-pri-pool::test_witness_switch_witness-28
test_witness_switch_witness-29 2022/11/17 23:59:35.903 thread.rs:396: [DEBG] tid 605615 thread name is sched-high-pri-pool::test_witness_switch_witness-29
test_witness_switch_witness-30 2022/11/17 23:59:35.903 thread.rs:396: [DEBG] tid 605616 thread name is sched-high-pri-pool::test_witness_switch_witness-30
test_witness_switch_witness 2022/11/17 23:59:35.903 scheduler.rs:420: [WARN] initialized the transaction scheduler, takes: 110
test_witness_switch_witness-31 2022/11/17 23:59:35.903 thread.rs:396: [DEBG] tid 605617 thread name is sched-high-pri-pool::test_witness_switch_witness-31
test_witness_switch_witness 2022/11/17 23:59:35.903 mod.rs:286: [INFO] Storage started.
2022/11/17 23:59:35.904 thread.rs:396: [DEBG] tid 605618 thread name is sst-importer0
test_witness_switch_witness-0 2022/11/17 23:59:35.904 thread.rs:396: [DEBG] tid 605619 thread name is yatp_pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.904 thread.rs:396: [DEBG] tid 605620 thread name is yatp_pool::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.904 thread.rs:396: [DEBG] tid 605621 thread name is yatp_pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.904 thread.rs:396: [DEBG] tid 605622 thread name is yatp_pool::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.905 thread.rs:396: [DEBG] tid 605623 thread name is yatp_pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.905 thread.rs:396: [DEBG] tid 605624 thread name is yatp_pool::test_witness_switch_witness-1
test_witness_switch_witness 2022/11/17 23:59:35.905 thread.rs:396: [DEBG] tid 605625 thread name is debugger::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.954 config.rs:517: [WARN] Election timeout ticks needs to be same across all the cluster, otherwise it may lead to inconsistency.
test_witness_switch_witness-0 2022/11/17 23:59:35.954 thread.rs:396: [DEBG] tid 605626 thread name is snap-handler::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.955 node.rs:236: [INFO] trying to bootstrap cluster, region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, store_id: 2
test_witness_switch_witness 2022/11/17 23:59:35.970 node.rs:245: [INFO] put store to PD, store: id: 2 address: "127.0.0.1:29877" version: "6.5.0-alpha" peer_address: "127.0.0.1:29877" status_address: "127.0.0.1:20180" git_hash: "Unknown git hash" start_timestamp: 1668700775 deploy_path: "/workspace/pingcap/tikv/target/debug/deps"
test_witness_switch_witness 2022/11/17 23:59:35.970 node.rs:382: [INFO] initializing replication mode, store_id: 2, status: None
test_witness_switch_witness 2022/11/17 23:59:35.970 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.970 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 2
test_witness_switch_witness 2022/11/17 23:59:35.970 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 3
test_witness_switch_witness 2022/11/17 23:59:35.970 node.rs:514: [INFO] start raft store thread, store_id: 2
test_witness_switch_witness-0 2022/11/17 23:59:35.971 thread.rs:396: [DEBG] tid 605628 thread name is purge-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.971 thread.rs:396: [DEBG] tid 605629 thread name is cleanup-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.971 thread.rs:396: [DEBG] tid 605630 thread name is region-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.971 thread.rs:396: [DEBG] tid 605631 thread name is raftlog-fetch-worker::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.971 snap.rs:1393: [INFO] Initializing SnapManager, encryption is enabled: false
test_witness_switch_witness-0 2022/11/17 23:59:35.971 thread.rs:396: [DEBG] tid 605632 thread name is refreash-config-worker::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:35.972 peer.rs:263: [INFO] create peer, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.972 peer_storage.rs:302: [DEBG] creating storage on specified path, path: "/tmp/test_clustertni2Fl/db", peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.972 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.972 raft.rs:2789: [DEBG] reset election timeout 0 -> 44 at 0, election_elapsed: 0, timeout: 44, prev_timeout: 0, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.972 raft.rs:1120: [INFO] became follower at term 5, term: 5, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.972 raft.rs:384: [INFO] newRaft, peers: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, last term: 5, last index: 5, applied: 5, commit: 5, term: 5, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.972 raw_node.rs:315: [INFO] RawNode created with id 2., id: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:35.972 peer.rs:1185: [DEBG] init commit group, peer_id: 2, region_id: 1, state: GlobalReplicationState { status: , group: StoreGroup { labels: {1: [], 2: [], 3: []}, label_ids: {}, stores: {}, label_key: "", version: 0, dirty: false }, group_buffer: [] }
test_witness_switch_witness 2022/11/17 23:59:35.973 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(CreateRegion { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, role: Follower })
test_witness_switch_witness 2022/11/17 23:59:35.973 future.rs:72: [DEBG] scheduling task ChangeRole { role: Follower }
test_witness_switch_witness 2022/11/17 23:59:35.973 store.rs:1229: [INFO] start store, takes: 760.257µs, merge_count: 0, applying_count: 0, tombstone_count: 0, region_count: 1, store_id: 2
test_witness_switch_witness 2022/11/17 23:59:35.973 store.rs:1283: [INFO] cleans up garbage data, takes: 31.79µs, garbage_range_count: 2, store_id: 2
test_witness_switch_witness 2022/11/17 23:59:35.974 thread.rs:396: [DEBG] tid 605635 thread name is raftstore-2-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.974 thread.rs:396: [DEBG] tid 605636 thread name is raftstore-2-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.974 thread.rs:396: [DEBG] tid 605637 thread name is apply-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.974 pool.rs:123: [DEBG] scheduling task CollectorReg
test_witness_switch_witness 2022/11/17 23:59:35.975 thread.rs:396: [DEBG] tid 605638 thread name is apply-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.975 store.rs:1727: [WARN] set thread priority for raftstore failed, error: Os { code: 13, kind: PermissionDenied, message: "Permission denied" }
test_witness_switch_witness 2022/11/17 23:59:35.975 thread.rs:396: [DEBG] tid 605639 thread name is stats-monitor::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.975 future.rs:150: [INFO] starting working thread, worker: waiter-manager
test_witness_switch_witness 2022/11/17 23:59:35.975 thread.rs:396: [DEBG] tid 605640 thread name is waiter-manager::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.975 future.rs:150: [INFO] starting working thread, worker: deadlock-detector
test_witness_switch_witness 2022/11/17 23:59:35.975 thread.rs:396: [DEBG] tid 605642 thread name is deadlock-detector::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.975 deadlock.rs:1012: [DEBG] handle change role, role: Follower
test_witness_switch_witness 2022/11/17 23:59:35.976 thread.rs:396: [DEBG] tid 605643 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.976 thread.rs:396: [DEBG] tid 605644 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.976 thread.rs:396: [DEBG] tid 605645 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.976 thread.rs:396: [DEBG] tid 605646 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:35.976 server.rs:267: [INFO] listening on addr, addr: 127.0.0.1:29877
test_witness_switch_witness 2022/11/17 23:59:35.985 server.rs:312: [INFO] TiKV is ready to serve
test_witness_switch_witness 2022/11/17 23:59:35.986 cluster.rs:364: [DEBG] node 2 started
test_witness_switch_witness 2022/11/17 23:59:35.986 cluster.rs:338: [DEBG] starting node 3
test_witness_switch_witness 2022/11/17 23:59:35.986 cluster.rs:359: [DEBG] calling run node, node_id: 3
test_witness_switch_witness-0 2022/11/17 23:59:35.986 thread.rs:396: [DEBG] tid 605647 thread name is background::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.986 thread.rs:396: [DEBG] tid 605648 thread name is background::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.986 thread.rs:396: [DEBG] tid 605649 thread name is region-collector-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.987 thread.rs:396: [DEBG] tid 605650 thread name is test-pd-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.987 thread.rs:396: [DEBG] tid 605651 thread name is store-read-low::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.987 thread.rs:396: [DEBG] tid 605652 thread name is store-read-low::test_witness_switch_witness-1
test_witness_switch_witness-1 2022/11/17 23:59:35.988 thread.rs:396: [DEBG] tid 605654 thread name is store-read-normal::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.988 thread.rs:396: [DEBG] tid 605653 thread name is store-read-normal::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.988 thread.rs:396: [DEBG] tid 605655 thread name is store-read-high::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.988 thread.rs:396: [DEBG] tid 605656 thread name is store-read-high::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:35.988 thread.rs:396: [DEBG] tid 605657 thread name is gc-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.988 thread.rs:396: [DEBG] tid 605658 thread name is lock-collector::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.988 thread.rs:396: [DEBG] tid 605659 thread name is resource-metering-recorder::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.989 thread.rs:396: [DEBG] tid 605660 thread name is resource-metering-reporter::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.989 thread.rs:396: [DEBG] tid 605663 thread name is resource-metering-single-target-data-sink::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:35.990 thread.rs:396: [DEBG] tid 605664 thread name is sched-worker-pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.990 thread.rs:396: [DEBG] tid 605665 thread name is sched-worker-pool::test_witness_switch_witness-1
test_witness_switch_witness-2 2022/11/17 23:59:35.991 thread.rs:396: [DEBG] tid 605666 thread name is sched-worker-pool::test_witness_switch_witness-2
test_witness_switch_witness-3 2022/11/17 23:59:35.991 thread.rs:396: [DEBG] tid 605667 thread name is sched-worker-pool::test_witness_switch_witness-3
test_witness_switch_witness-4 2022/11/17 23:59:35.991 thread.rs:396: [DEBG] tid 605668 thread name is sched-worker-pool::test_witness_switch_witness-4
test_witness_switch_witness-5 2022/11/17 23:59:35.991 thread.rs:396: [DEBG] tid 605669 thread name is sched-worker-pool::test_witness_switch_witness-5
test_witness_switch_witness-6 2022/11/17 23:59:35.991 thread.rs:396: [DEBG] tid 605670 thread name is sched-worker-pool::test_witness_switch_witness-6
test_witness_switch_witness-7 2022/11/17 23:59:35.991 thread.rs:396: [DEBG] tid 605671 thread name is sched-worker-pool::test_witness_switch_witness-7
test_witness_switch_witness-8 2022/11/17 23:59:35.991 thread.rs:396: [DEBG] tid 605672 thread name is sched-worker-pool::test_witness_switch_witness-8
test_witness_switch_witness-9 2022/11/17 23:59:35.992 thread.rs:396: [DEBG] tid 605673 thread name is sched-worker-pool::test_witness_switch_witness-9
test_witness_switch_witness-10 2022/11/17 23:59:35.992 thread.rs:396: [DEBG] tid 605674 thread name is sched-worker-pool::test_witness_switch_witness-10
test_witness_switch_witness-11 2022/11/17 23:59:35.992 thread.rs:396: [DEBG] tid 605675 thread name is sched-worker-pool::test_witness_switch_witness-11
test_witness_switch_witness-12 2022/11/17 23:59:35.992 thread.rs:396: [DEBG] tid 605676 thread name is sched-worker-pool::test_witness_switch_witness-12
test_witness_switch_witness-13 2022/11/17 23:59:35.992 thread.rs:396: [DEBG] tid 605677 thread name is sched-worker-pool::test_witness_switch_witness-13
test_witness_switch_witness-14 2022/11/17 23:59:35.992 thread.rs:396: [DEBG] tid 605678 thread name is sched-worker-pool::test_witness_switch_witness-14
test_witness_switch_witness-15 2022/11/17 23:59:35.992 thread.rs:396: [DEBG] tid 605679 thread name is sched-worker-pool::test_witness_switch_witness-15
test_witness_switch_witness-16 2022/11/17 23:59:35.993 thread.rs:396: [DEBG] tid 605680 thread name is sched-worker-pool::test_witness_switch_witness-16
test_witness_switch_witness-17 2022/11/17 23:59:35.993 thread.rs:396: [DEBG] tid 605681 thread name is sched-worker-pool::test_witness_switch_witness-17
test_witness_switch_witness-18 2022/11/17 23:59:35.993 thread.rs:396: [DEBG] tid 605682 thread name is sched-worker-pool::test_witness_switch_witness-18
test_witness_switch_witness-19 2022/11/17 23:59:35.993 thread.rs:396: [DEBG] tid 605683 thread name is sched-worker-pool::test_witness_switch_witness-19
test_witness_switch_witness-21 2022/11/17 23:59:35.993 thread.rs:396: [DEBG] tid 605685 thread name is sched-worker-pool::test_witness_switch_witness-21
test_witness_switch_witness-20 2022/11/17 23:59:35.993 thread.rs:396: [DEBG] tid 605684 thread name is sched-worker-pool::test_witness_switch_witness-20
test_witness_switch_witness-22 2022/11/17 23:59:35.994 thread.rs:396: [DEBG] tid 605686 thread name is sched-worker-pool::test_witness_switch_witness-22
test_witness_switch_witness-23 2022/11/17 23:59:35.994 thread.rs:396: [DEBG] tid 605687 thread name is sched-worker-pool::test_witness_switch_witness-23
test_witness_switch_witness-24 2022/11/17 23:59:35.994 thread.rs:396: [DEBG] tid 605688 thread name is sched-worker-pool::test_witness_switch_witness-24
test_witness_switch_witness-25 2022/11/17 23:59:35.994 thread.rs:396: [DEBG] tid 605689 thread name is sched-worker-pool::test_witness_switch_witness-25
test_witness_switch_witness-26 2022/11/17 23:59:35.994 thread.rs:396: [DEBG] tid 605690 thread name is sched-worker-pool::test_witness_switch_witness-26
test_witness_switch_witness-27 2022/11/17 23:59:35.994 thread.rs:396: [DEBG] tid 605691 thread name is sched-worker-pool::test_witness_switch_witness-27
test_witness_switch_witness-28 2022/11/17 23:59:35.994 thread.rs:396: [DEBG] tid 605692 thread name is sched-worker-pool::test_witness_switch_witness-28
test_witness_switch_witness-30 2022/11/17 23:59:35.995 thread.rs:396: [DEBG] tid 605694 thread name is sched-worker-pool::test_witness_switch_witness-30
test_witness_switch_witness-29 2022/11/17 23:59:35.995 thread.rs:396: [DEBG] tid 605693 thread name is sched-worker-pool::test_witness_switch_witness-29
test_witness_switch_witness-31 2022/11/17 23:59:35.995 thread.rs:396: [DEBG] tid 605695 thread name is sched-worker-pool::test_witness_switch_witness-31
test_witness_switch_witness-0 2022/11/17 23:59:35.995 thread.rs:396: [DEBG] tid 605696 thread name is sched-high-pri-pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:35.995 thread.rs:396: [DEBG] tid 605697 thread name is sched-high-pri-pool::test_witness_switch_witness-1
test_witness_switch_witness-2 2022/11/17 23:59:35.996 thread.rs:396: [DEBG] tid 605698 thread name is sched-high-pri-pool::test_witness_switch_witness-2
test_witness_switch_witness-3 2022/11/17 23:59:35.996 thread.rs:396: [DEBG] tid 605699 thread name is sched-high-pri-pool::test_witness_switch_witness-3
test_witness_switch_witness-4 2022/11/17 23:59:35.996 thread.rs:396: [DEBG] tid 605700 thread name is sched-high-pri-pool::test_witness_switch_witness-4
test_witness_switch_witness-5 2022/11/17 23:59:35.996 thread.rs:396: [DEBG] tid 605701 thread name is sched-high-pri-pool::test_witness_switch_witness-5
test_witness_switch_witness-6 2022/11/17 23:59:35.996 thread.rs:396: [DEBG] tid 605702 thread name is sched-high-pri-pool::test_witness_switch_witness-6
test_witness_switch_witness-7 2022/11/17 23:59:35.996 thread.rs:396: [DEBG] tid 605703 thread name is sched-high-pri-pool::test_witness_switch_witness-7
test_witness_switch_witness-8 2022/11/17 23:59:35.997 thread.rs:396: [DEBG] tid 605704 thread name is sched-high-pri-pool::test_witness_switch_witness-8
test_witness_switch_witness-9 2022/11/17 23:59:35.997 thread.rs:396: [DEBG] tid 605705 thread name is sched-high-pri-pool::test_witness_switch_witness-9
test_witness_switch_witness-10 2022/11/17 23:59:35.997 thread.rs:396: [DEBG] tid 605706 thread name is sched-high-pri-pool::test_witness_switch_witness-10
test_witness_switch_witness-11 2022/11/17 23:59:35.997 thread.rs:396: [DEBG] tid 605707 thread name is sched-high-pri-pool::test_witness_switch_witness-11
test_witness_switch_witness-12 2022/11/17 23:59:35.997 thread.rs:396: [DEBG] tid 605708 thread name is sched-high-pri-pool::test_witness_switch_witness-12
test_witness_switch_witness-13 2022/11/17 23:59:35.997 thread.rs:396: [DEBG] tid 605709 thread name is sched-high-pri-pool::test_witness_switch_witness-13
test_witness_switch_witness-14 2022/11/17 23:59:35.997 thread.rs:396: [DEBG] tid 605710 thread name is sched-high-pri-pool::test_witness_switch_witness-14
test_witness_switch_witness-15 2022/11/17 23:59:35.997 thread.rs:396: [DEBG] tid 605711 thread name is sched-high-pri-pool::test_witness_switch_witness-15
test_witness_switch_witness-16 2022/11/17 23:59:35.998 thread.rs:396: [DEBG] tid 605712 thread name is sched-high-pri-pool::test_witness_switch_witness-16
test_witness_switch_witness-17 2022/11/17 23:59:35.998 thread.rs:396: [DEBG] tid 605713 thread name is sched-high-pri-pool::test_witness_switch_witness-17
test_witness_switch_witness-18 2022/11/17 23:59:35.998 thread.rs:396: [DEBG] tid 605714 thread name is sched-high-pri-pool::test_witness_switch_witness-18
test_witness_switch_witness-19 2022/11/17 23:59:35.998 thread.rs:396: [DEBG] tid 605715 thread name is sched-high-pri-pool::test_witness_switch_witness-19
test_witness_switch_witness-20 2022/11/17 23:59:35.998 thread.rs:396: [DEBG] tid 605716 thread name is sched-high-pri-pool::test_witness_switch_witness-20
test_witness_switch_witness-21 2022/11/17 23:59:35.998 thread.rs:396: [DEBG] tid 605717 thread name is sched-high-pri-pool::test_witness_switch_witness-21
test_witness_switch_witness-22 2022/11/17 23:59:35.998 thread.rs:396: [DEBG] tid 605718 thread name is sched-high-pri-pool::test_witness_switch_witness-22
test_witness_switch_witness-23 2022/11/17 23:59:35.998 thread.rs:396: [DEBG] tid 605719 thread name is sched-high-pri-pool::test_witness_switch_witness-23
test_witness_switch_witness-24 2022/11/17 23:59:35.998 thread.rs:396: [DEBG] tid 605720 thread name is sched-high-pri-pool::test_witness_switch_witness-24
test_witness_switch_witness-25 2022/11/17 23:59:35.999 thread.rs:396: [DEBG] tid 605721 thread name is sched-high-pri-pool::test_witness_switch_witness-25
test_witness_switch_witness-26 2022/11/17 23:59:35.999 thread.rs:396: [DEBG] tid 605722 thread name is sched-high-pri-pool::test_witness_switch_witness-26
test_witness_switch_witness-27 2022/11/17 23:59:35.999 thread.rs:396: [DEBG] tid 605723 thread name is sched-high-pri-pool::test_witness_switch_witness-27
test_witness_switch_witness-28 2022/11/17 23:59:35.999 thread.rs:396: [DEBG] tid 605724 thread name is sched-high-pri-pool::test_witness_switch_witness-28
test_witness_switch_witness-29 2022/11/17 23:59:35.999 thread.rs:396: [DEBG] tid 605725 thread name is sched-high-pri-pool::test_witness_switch_witness-29
test_witness_switch_witness-30 2022/11/17 23:59:35.999 thread.rs:396: [DEBG] tid 605726 thread name is sched-high-pri-pool::test_witness_switch_witness-30
test_witness_switch_witness-31 2022/11/17 23:59:35.999 thread.rs:396: [DEBG] tid 605727 thread name is sched-high-pri-pool::test_witness_switch_witness-31
test_witness_switch_witness 2022/11/17 23:59:35.999 scheduler.rs:420: [WARN] initialized the transaction scheduler, takes: 20
test_witness_switch_witness 2022/11/17 23:59:35.999 mod.rs:286: [INFO] Storage started.
2022/11/17 23:59:36.000 thread.rs:396: [DEBG] tid 605728 thread name is sst-importer0
test_witness_switch_witness-0 2022/11/17 23:59:36.000 thread.rs:396: [DEBG] tid 605729 thread name is yatp_pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:36.000 thread.rs:396: [DEBG] tid 605730 thread name is yatp_pool::test_witness_switch_witness-1
test_witness_switch_witness-0 2022/11/17 23:59:36.001 thread.rs:396: [DEBG] tid 605731 thread name is yatp_pool::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:36.001 thread.rs:396: [DEBG] tid 605733 thread name is yatp_pool::test_witness_switch_witness-0
test_witness_switch_witness-1 2022/11/17 23:59:36.001 thread.rs:396: [DEBG] tid 605732 thread name is yatp_pool::test_witness_switch_witness-1
test_witness_switch_witness-1 2022/11/17 23:59:36.001 thread.rs:396: [DEBG] tid 605734 thread name is yatp_pool::test_witness_switch_witness-1
test_witness_switch_witness 2022/11/17 23:59:36.001 thread.rs:396: [DEBG] tid 605735 thread name is debugger::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.130 config.rs:517: [WARN] Election timeout ticks needs to be same across all the cluster, otherwise it may lead to inconsistency.
test_witness_switch_witness-0 2022/11/17 23:59:36.130 thread.rs:396: [DEBG] tid 605736 thread name is snap-handler::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:36.131 node.rs:236: [INFO] trying to bootstrap cluster, region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, store_id: 3
test_witness_switch_witness 2022/11/17 23:59:36.146 node.rs:245: [INFO] put store to PD, store: id: 3 address: "127.0.0.1:29878" version: "6.5.0-alpha" peer_address: "127.0.0.1:29878" status_address: "127.0.0.1:20180" git_hash: "Unknown git hash" start_timestamp: 1668700776 deploy_path: "/workspace/pingcap/tikv/target/debug/deps"
test_witness_switch_witness 2022/11/17 23:59:36.146 node.rs:382: [INFO] initializing replication mode, store_id: 3, status: None
test_witness_switch_witness 2022/11/17 23:59:36.146 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.146 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 2
test_witness_switch_witness 2022/11/17 23:59:36.146 replication_mode.rs:55: [INFO] associated store labels, labels: [], store_id: 3
test_witness_switch_witness 2022/11/17 23:59:36.146 node.rs:514: [INFO] start raft store thread, store_id: 3
test_witness_switch_witness-0 2022/11/17 23:59:36.147 thread.rs:396: [DEBG] tid 605738 thread name is purge-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:36.147 thread.rs:396: [DEBG] tid 605739 thread name is cleanup-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:36.147 thread.rs:396: [DEBG] tid 605740 thread name is region-worker::test_witness_switch_witness-0
test_witness_switch_witness-0 2022/11/17 23:59:36.147 thread.rs:396: [DEBG] tid 605741 thread name is raftlog-fetch-worker::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:36.147 snap.rs:1393: [INFO] Initializing SnapManager, encryption is enabled: false
test_witness_switch_witness-0 2022/11/17 23:59:36.147 thread.rs:396: [DEBG] tid 605742 thread name is refreash-config-worker::test_witness_switch_witness-0
test_witness_switch_witness 2022/11/17 23:59:36.148 peer.rs:263: [INFO] create peer, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.148 peer_storage.rs:302: [DEBG] creating storage on specified path, path: "/tmp/test_clusterw8ycyH/db", peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.148 raft.rs:2646: [INFO] switched to configuration, config: Configuration { voters: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.148 raft.rs:2789: [DEBG] reset election timeout 0 -> 35 at 0, election_elapsed: 0, timeout: 35, prev_timeout: 0, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.148 raft.rs:1120: [INFO] became follower at term 5, term: 5, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.148 raft.rs:384: [INFO] newRaft, peers: Configuration { incoming: Configuration { voters: {1, 2, 3} }, outgoing: Configuration { voters: {} } }, last term: 5, last index: 5, applied: 5, commit: 5, term: 5, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.148 raw_node.rs:315: [INFO] RawNode created with id 3., id: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.148 peer.rs:1185: [DEBG] init commit group, peer_id: 3, region_id: 1, state: GlobalReplicationState { status: , group: StoreGroup { labels: {1: [], 2: [], 3: []}, label_ids: {}, stores: {}, label_key: "", version: 0, dirty: false }, group_buffer: [] }
test_witness_switch_witness 2022/11/17 23:59:36.148 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(CreateRegion { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, role: Follower })
test_witness_switch_witness 2022/11/17 23:59:36.149 future.rs:72: [DEBG] scheduling task ChangeRole { role: Follower }
test_witness_switch_witness 2022/11/17 23:59:36.149 store.rs:1229: [INFO] start store, takes: 796.257µs, merge_count: 0, applying_count: 0, tombstone_count: 0, region_count: 1, store_id: 3
test_witness_switch_witness 2022/11/17 23:59:36.149 store.rs:1283: [INFO] cleans up garbage data, takes: 31.01µs, garbage_range_count: 2, store_id: 3
test_witness_switch_witness 2022/11/17 23:59:36.150 thread.rs:396: [DEBG] tid 605745 thread name is raftstore-3-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.150 thread.rs:396: [DEBG] tid 605746 thread name is raftstore-3-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.150 thread.rs:396: [DEBG] tid 605747 thread name is apply-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.150 thread.rs:396: [DEBG] tid 605748 thread name is apply-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.151 pool.rs:123: [DEBG] scheduling task CollectorReg
test_witness_switch_witness 2022/11/17 23:59:36.151 store.rs:1727: [WARN] set thread priority for raftstore failed, error: Os { code: 13, kind: PermissionDenied, message: "Permission denied" }
test_witness_switch_witness 2022/11/17 23:59:36.151 thread.rs:396: [DEBG] tid 605749 thread name is stats-monitor::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.151 future.rs:150: [INFO] starting working thread, worker: waiter-manager
test_witness_switch_witness 2022/11/17 23:59:36.151 thread.rs:396: [DEBG] tid 605750 thread name is waiter-manager::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.151 future.rs:150: [INFO] starting working thread, worker: deadlock-detector
test_witness_switch_witness 2022/11/17 23:59:36.152 thread.rs:396: [DEBG] tid 605752 thread name is deadlock-detector::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.152 deadlock.rs:1012: [DEBG] handle change role, role: Follower
test_witness_switch_witness 2022/11/17 23:59:36.152 thread.rs:396: [DEBG] tid 605753 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.152 thread.rs:396: [DEBG] tid 605754 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.152 thread.rs:396: [DEBG] tid 605755 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.152 server.rs:267: [INFO] listening on addr, addr: 127.0.0.1:29878
test_witness_switch_witness 2022/11/17 23:59:36.152 thread.rs:396: [DEBG] tid 605756 thread name is snap-sender::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:36.165 server.rs:312: [INFO] TiKV is ready to serve
test_witness_switch_witness 2022/11/17 23:59:36.165 cluster.rs:364: [DEBG] node 3 started
test_witness_switch_witness 2022/11/17 23:59:36.176 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.187 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.198 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.209 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.220 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.230 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.241 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.252 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.263 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.273 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.282 pool.rs:123: [DEBG] scheduling task compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(71.109µs), store_process_duration: Some(19.42µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:36.283 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(71.109µs), store_process_duration: Some(19.42µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:36.284 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.287 raft.rs:1550: [INFO] starting a new election, term: 5, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.287 raft.rs:1170: [INFO] became pre-candidate at term 5, term: 5, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.287 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgRequestPreVote to: 2 term: 6 log_term: 5 index: 5 commit: 5 commit_term: 5, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.287 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgRequestPreVote to: 3 term: 6 log_term: 5 index: 5 commit: 5 commit_term: 5, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.287 raft.rs:1299: [INFO] broadcasting vote request, to: [2, 3], log_index: 5, log_term: 5, term: 5, type: MsgRequestPreVote, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.287 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.287 peer.rs:2371: [DEBG] update leader info, peer_id: 1, term: 5, leader_id: 0, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.287 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(RoleChange { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, role: PreCandidate })
test_witness_switch_witness 2022/11/17 23:59:36.287 future.rs:72: [DEBG] scheduling task ChangeRole { role: Follower }
test_witness_switch_witness 2022/11/17 23:59:36.287 deadlock.rs:1012: [DEBG] handle change role, role: Follower
test_witness_switch_witness 2022/11/17 23:59:36.287 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgRequestPreVote, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.288 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 16, msg_type: MsgRequestPreVote, peer_id: 1, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.288 pool.rs:123: [DEBG] scheduling task resolve store 2 address
test_witness_switch_witness-0 2022/11/17 23:59:36.289 raft_client.rs:824: [INFO] resolve store address ok, addr: 127.0.0.1:29877, store_id: 2
test_witness_switch_witness-0 2022/11/17 23:59:36.289 raft_client.rs:706: [INFO] server: new connection with tikv endpoint, store_id: 2, addr: 127.0.0.1:29877
test_witness_switch_witness-0 2022/11/17 23:59:36.289 raft_client.rs:853: [DEBG] connecting to store, addr: 127.0.0.1:29877, store_id: 2
test_witness_switch_witness-0 2022/11/17 23:59:36.289 raft_client.rs:872: [DEBG] connection established, addr: 127.0.0.1:29877, store_id: 2
test_witness_switch_witness 2022/11/17 23:59:36.289 store.rs:1038: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_witness_switch_witness-0 2022/11/17 23:59:36.290 kv.rs:826: [INFO] batch_raft RPC is called, new gRPC stream established
test_witness_switch_witness-0 2022/11/17 23:59:36.290 pool.rs:123: [DEBG] scheduling task resolve store 3 address
test_witness_switch_witness-0 2022/11/17 23:59:36.290 raft_client.rs:824: [INFO] resolve store address ok, addr: 127.0.0.1:29878, store_id: 3
test_witness_switch_witness-0 2022/11/17 23:59:36.290 raft_client.rs:706: [INFO] server: new connection with tikv endpoint, store_id: 3, addr: 127.0.0.1:29878
test_witness_switch_witness 2022/11/17 23:59:36.290 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgRequestPreVote, peer_id: 2, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.290 raft_client.rs:853: [DEBG] connecting to store, addr: 127.0.0.1:29878, store_id: 3
test_witness_switch_witness 2022/11/17 23:59:36.290 raft.rs:1565: [INFO] [logterm: 5, index: 5, vote: 0] cast vote for 1 [logterm: 5, index: 5] at term 5, msg type: MsgRequestPreVote, term: 5, msg_index: 5, msg_term: 5, from: 1, vote: 0, log_index: 5, log_term: 5, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.290 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgRequestPreVoteResponse to: 1 term: 6, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.290 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.290 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgRequestPreVoteResponse, peer_id: 2, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.290 raft_client.rs:872: [DEBG] connection established, addr: 127.0.0.1:29878, store_id: 3
test_witness_switch_witness-0 2022/11/17 23:59:36.291 kv.rs:826: [INFO] batch_raft RPC is called, new gRPC stream established
test_witness_switch_witness 2022/11/17 23:59:36.291 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgRequestPreVote, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.291 raft.rs:1565: [INFO] [logterm: 5, index: 5, vote: 0] cast vote for 1 [logterm: 5, index: 5] at term 5, msg type: MsgRequestPreVote, term: 5, msg_index: 5, msg_term: 5, from: 1, vote: 0, log_index: 5, log_term: 5, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.291 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgRequestPreVoteResponse to: 1 term: 6, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.291 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.291 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgRequestPreVoteResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.291 store.rs:1038: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.291 pool.rs:123: [DEBG] scheduling task resolve store 1 address
test_witness_switch_witness-0 2022/11/17 23:59:36.292 raft_client.rs:824: [INFO] resolve store address ok, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.292 raft_client.rs:706: [INFO] server: new connection with tikv endpoint, store_id: 1, addr: 127.0.0.1:29876
test_witness_switch_witness-0 2022/11/17 23:59:36.292 raft_client.rs:853: [DEBG] connecting to store, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.292 store.rs:1038: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.292 pool.rs:123: [DEBG] scheduling task resolve store 1 address
test_witness_switch_witness-0 2022/11/17 23:59:36.292 raft_client.rs:872: [DEBG] connection established, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.292 raft_client.rs:824: [INFO] resolve store address ok, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.293 raft_client.rs:706: [INFO] server: new connection with tikv endpoint, store_id: 1, addr: 127.0.0.1:29876
test_witness_switch_witness-0 2022/11/17 23:59:36.293 kv.rs:826: [INFO] batch_raft RPC is called, new gRPC stream established
test_witness_switch_witness-0 2022/11/17 23:59:36.293 raft_client.rs:853: [DEBG] connecting to store, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.293 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgRequestPreVoteResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.293 raft.rs:2212: [INFO] received votes response, term: 5, type: MsgRequestPreVoteResponse, approvals: 2, rejections: 0, from: 2, vote: true, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.293 raft.rs:2789: [DEBG] reset election timeout 46 -> 44 at 0, election_elapsed: 0, timeout: 44, prev_timeout: 46, raft_id: 1, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.293 raft_client.rs:872: [DEBG] connection established, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.293 raft.rs:1144: [INFO] became candidate at term 6, term: 6, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.293 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgRequestVote to: 2 term: 6 log_term: 5 index: 5 commit: 5 commit_term: 5, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.293 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgRequestVote to: 3 term: 6 log_term: 5 index: 5 commit: 5 commit_term: 5, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.293 raft.rs:1299: [INFO] broadcasting vote request, to: [2, 3], log_index: 5, log_term: 5, term: 6, type: MsgRequestVote, raft_id: 1, region_id: 1
test_witness_switch_witness-1 2022/11/17 23:59:36.293 kv.rs:826: [INFO] batch_raft RPC is called, new gRPC stream established
test_witness_switch_witness 2022/11/17 23:59:36.293 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.293 peer.rs:2371: [DEBG] update leader info, peer_id: 1, term: 6, leader_id: 0, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.293 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(RoleChange { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, role: Candidate })
test_witness_switch_witness 2022/11/17 23:59:36.293 future.rs:72: [DEBG] scheduling task ChangeRole { role: Follower }
test_witness_switch_witness 2022/11/17 23:59:36.294 deadlock.rs:1012: [DEBG] handle change role, role: Follower
test_witness_switch_witness 2022/11/17 23:59:36.296 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 2, msg_size: 16, msg_type: MsgRequestVote, peer_id: 1, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.296 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 3, msg_size: 16, msg_type: MsgRequestVote, peer_id: 1, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.297 write.rs:813: [WARN] [store 1] async write too slow, write_kv: 0s, write_raft: 0.002714511s, send: 0.00022855s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.297 store.rs:1038: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.297 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgRequestPreVoteResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.297 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgRequestVote, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.297 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgRequestVote, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.297 raft.rs:1364: [INFO] received a message with higher term from 1, msg type: MsgRequestVote, message_term: 6, term: 5, from: 1, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.297 raft.rs:2789: [DEBG] reset election timeout 44 -> 45 at 29, election_elapsed: 29, timeout: 45, prev_timeout: 44, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.297 raft.rs:1120: [INFO] became follower at term 6, term: 6, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.297 raft.rs:1565: [INFO] [logterm: 5, index: 5, vote: 0] cast vote for 1 [logterm: 5, index: 5] at term 6, msg type: MsgRequestVote, term: 6, msg_index: 5, msg_term: 5, from: 1, vote: 0, log_index: 5, log_term: 5, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.297 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgRequestVoteResponse to: 1 term: 6, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.297 raft.rs:1364: [INFO] received a message with higher term from 1, msg type: MsgRequestVote, message_term: 6, term: 5, from: 1, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.298 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.298 raft.rs:2789: [DEBG] reset election timeout 35 -> 27 at 13, election_elapsed: 13, timeout: 27, prev_timeout: 35, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.298 peer.rs:2371: [DEBG] update leader info, peer_id: 2, term: 6, leader_id: 0, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.298 raft.rs:1120: [INFO] became follower at term 6, term: 6, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.298 raft.rs:1565: [INFO] [logterm: 5, index: 5, vote: 0] cast vote for 1 [logterm: 5, index: 5] at term 6, msg type: MsgRequestVote, term: 6, msg_index: 5, msg_term: 5, from: 1, vote: 0, log_index: 5, log_term: 5, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.298 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgRequestVoteResponse to: 1 term: 6, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.298 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.298 peer.rs:2371: [DEBG] update leader info, peer_id: 3, term: 6, leader_id: 0, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.300 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgRequestVoteResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.300 write.rs:813: [WARN] [store 2] async write too slow, write_kv: 0s, write_raft: 0.002261672s, send: 0.00011794s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.300 store.rs:1038: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.300 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgRequestVoteResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.300 raft.rs:2212: [INFO] received votes response, term: 6, type: MsgRequestVoteResponse, approvals: 2, rejections: 0, from: 2, vote: true, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 raft.rs:2789: [DEBG] reset election timeout 44 -> 28 at 1, election_elapsed: 1, timeout: 28, prev_timeout: 44, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 raft.rs:1228: [INFO] became leader at term 6, term: 6, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppend to: 2 log_term: 5 index: 5 entries { term: 6 index: 6 } commit: 5, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgAppend to: 3 log_term: 5 index: 5 entries { term: 6 index: 6 } commit: 5, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 peer.rs:3579: [DEBG] update read progress, progress: Term(6), peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 peer.rs:3579: [DEBG] update read progress, progress: LeaderLease(RemoteLease { expired_time: Timespec { sec: 19768, nsec: 523239424 }, term: 6 }), peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 peer.rs:2247: [DEBG] becomes leader with lease, lease: Lease { valid: Timespec { sec: 19768, nsec: 523471384 } }, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 peer.rs:5400: [INFO] require updating max ts, initial_status: 25769803778, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 pool.rs:123: [DEBG] scheduling task update the max timestamp for region 1 in the concurrency manager
test_witness_switch_witness 2022/11/17 23:59:36.301 peer.rs:2371: [DEBG] update leader info, peer_id: 1, term: 6, leader_id: 1, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.301 pd.rs:1921: [DEBG] executing task, task: update the max timestamp for region 1 in the concurrency manager
test_witness_switch_witness 2022/11/17 23:59:36.301 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(RoleChange { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, role: Leader })
test_witness_switch_witness-0 2022/11/17 23:59:36.301 pd.rs:1713: [INFO] succeed to update max timestamp, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 future.rs:72: [DEBG] scheduling task ChangeRole { role: Leader }
test_witness_switch_witness 2022/11/17 23:59:36.301 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 20, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 deadlock.rs:1012: [DEBG] handle change role, role: Leader
test_witness_switch_witness 2022/11/17 23:59:36.301 deadlock.rs:766: [INFO] became the leader of deadlock detector!, self_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 20, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.301 entry_storage.rs:1053: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.302 peer.rs:2092: [DEBG] peer start pending, time: Instant { tv_sec: 19768, tv_nsec: 370239706 }, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.302 peer.rs:2092: [DEBG] peer start pending, time: Instant { tv_sec: 19768, tv_nsec: 370277486 }, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.302 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.302 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.302 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.302 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 8, msg_type: MsgRequestVoteResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.302 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppend, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.302 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0s, write_raft: 0.00388448s, send: 0.00016831s, callback: 0s thread: sync-writer, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.302 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 6 commit: 5, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.302 store.rs:1038: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 5
test_witness_switch_witness 2022/11/17 23:59:36.302 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.302 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgAppend, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.303 cluster.rs:597: [DEBG] failed to detect leaders, store_ids: [1, 2, 3], leaders: {}
test_witness_switch_witness 2022/11/17 23:59:36.303 peer.rs:2371: [DEBG] update leader info, peer_id: 2, term: 6, leader_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.303 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 6 commit: 5, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.303 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(RoleChange { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, role: Follower })
test_witness_switch_witness 2022/11/17 23:59:36.303 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.303 future.rs:72: [DEBG] scheduling task ChangeRole { role: Follower }
test_witness_switch_witness 2022/11/17 23:59:36.303 peer.rs:2371: [DEBG] update leader info, peer_id: 3, term: 6, leader_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.303 entry_storage.rs:1053: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.303 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(RoleChange { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, role: Follower })
test_witness_switch_witness 2022/11/17 23:59:36.303 deadlock.rs:1012: [DEBG] handle change role, role: Follower
test_witness_switch_witness 2022/11/17 23:59:36.303 future.rs:72: [DEBG] scheduling task ChangeRole { role: Follower }
test_witness_switch_witness 2022/11/17 23:59:36.303 entry_storage.rs:1053: [DEBG] append entries, count: 1, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.303 deadlock.rs:1012: [DEBG] handle change role, role: Follower
test_witness_switch_witness 2022/11/17 23:59:36.304 write.rs:813: [WARN] [store 1] async write too slow, write_kv: 0s, write_raft: 0.002225592s, send: 0.00000257s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.304 raft_log.rs:536: [DEBG] persisted index 6, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.304 store.rs:1038: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 2 messages and 0 snapshots, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.304 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgRequestVoteResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.306 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.306 write.rs:813: [WARN] [store 2] async write too slow, write_kv: 0s, write_raft: 0.00270843s, send: 0.000121019s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.306 raft_log.rs:536: [DEBG] persisted index 6, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.306 store.rs:1038: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.306 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.306 raft_log.rs:500: [DEBG] committing index 6, index: 6, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.306 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.306 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppend to: 2 log_term: 6 index: 6 commit: 6, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.306 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0s, write_raft: 0.002930299s, send: 0.00012212s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.306 raft_log.rs:536: [DEBG] persisted index 6, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.307 store.rs:1038: [WARN] [store 3] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.307 peer.rs:2141: [DEBG] peer has caught up logs, takes: 0.004873533, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.307 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness 2022/11/17 23:59:36.307 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.307 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness 2022/11/17 23:59:36.307 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 14, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.307 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.307 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppend, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.307 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 6 commit: 6, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.307 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.310 write.rs:813: [WARN] [store 1] async write too slow, write_kv: 0s, write_raft: 0.002385632s, send: 0.00000222s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.310 store.rs:1038: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 1 messages and 0 snapshots, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.310 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.310 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgAppend to: 3 log_term: 6 index: 6 commit: 6, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.310 peer.rs:2141: [DEBG] peer has caught up logs, takes: 0.008158631, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.310 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness 2022/11/17 23:59:36.310 peer.rs:2253: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 6 commit_index: 6 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.310 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness 2022/11/17 23:59:36.310 peer.rs:3579: [DEBG] update read progress, progress: AppliedTerm(6), peer_id: 1, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.310 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.310 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness 2022/11/17 23:59:36.310 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.310 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness 2022/11/17 23:59:36.310 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 14, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.311 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.311 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgAppend, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.311 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 6 commit: 6, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.311 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.311 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.311 write.rs:813: [WARN] [store 2] async write too slow, write_kv: 0s, write_raft: 0.003721673s, send: 0.00010708s, callback: 0s thread: sync-writer, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.312 store.rs:1038: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.312 peer.rs:2253: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 6 commit_index: 6 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.312 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.313 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.314 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0s, write_raft: 0.002213832s, send: 0.00010329s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.314 store.rs:1038: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.314 peer.rs:2253: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 6 commit_index: 6 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 39, written_keys: 1, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.314 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.314 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppend to: 2 log_term: 6 index: 6 entries { term: 6 index: 7 data: 0A0E08011204080110012A04080110011215080322110A0764656661756C7412026B311A027631 } commit: 6, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.314 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgAppend to: 3 log_term: 6 index: 6 entries { term: 6 index: 7 data: 0A0E08011204080110012A04080110011215080322110A0764656661756C7412026B311A027631 } commit: 6, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.314 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.314 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 61, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.314 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 61, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.314 entry_storage.rs:1053: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.314 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppend, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.315 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 7 commit: 6, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.315 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgAppend, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.315 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.315 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 7 commit: 6, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.315 entry_storage.rs:1053: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.315 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.315 entry_storage.rs:1053: [DEBG] append entries, count: 1, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.317 write.rs:813: [WARN] [store 1] async write too slow, write_kv: 0s, write_raft: 0.002328372s, send: 0.00000217s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.317 raft_log.rs:536: [DEBG] persisted index 7, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.317 store.rs:1038: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 2 messages and 0 snapshots, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.318 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.319 write.rs:813: [WARN] [store 2] async write too slow, write_kv: 0s, write_raft: 0.003506758s, send: 0.000138029s, callback: 0s thread: sync-writer, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.319 raft_log.rs:536: [DEBG] persisted index 7, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.319 store.rs:1038: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.319 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.319 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.319 raft_log.rs:500: [DEBG] committing index 7, index: 7, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.319 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.319 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.319 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0s, write_raft: 0.003939566s, send: 0.0000997s, callback: 0s thread: sync-writer, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.319 raft_log.rs:536: [DEBG] persisted index 7, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.319 store.rs:1038: [WARN] [store 3] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.319 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.319 apply.rs:1353: [DEBG] applied command, index: 7, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.320 apply.rs:708: [WARN] [store 1] handle ready 1 committed entries, takes: 10
test_witness_switch_witness 2022/11/17 23:59:36.321 write.rs:813: [WARN] [store 1] async write too slow, write_kv: 0s, write_raft: 0.002248942s, send: 0.00000194s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.321 store.rs:1038: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.321 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.321 peer.rs:2253: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 7 commit_index: 7 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 5, delete_keys_hint: 0, written_bytes: 47, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 7, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 7, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 pd.rs:1179: [ERRO] sched switch_witnesses
test_witness_switch_witness 2022/11/17 23:59:36.322 pd.rs:984: [DEBG] [region 1] schedule operator BatchSwitchWitness { peer_ids: [3], is_witnesses: [true], policy: TillSuccess }
test_witness_switch_witness 2022/11/17 23:59:36.322 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 7, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.322 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 7, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.323 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.323 apply.rs:1353: [DEBG] applied command, index: 7, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.323 apply.rs:1353: [DEBG] applied command, index: 7, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.325 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.325 write.rs:813: [WARN] [store 2] async write too slow, write_kv: 0s, write_raft: 0.002167441s, send: 0.0001222s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.325 store.rs:1038: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.325 peer.rs:2253: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 7 commit_index: 7 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 5, delete_keys_hint: 0, written_bytes: 47, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.325 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.325 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.325 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0s, write_raft: 0.002489631s, send: 0.00010271s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.325 store.rs:1038: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.325 peer.rs:2253: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 7 commit_index: 7 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [], metrics: ApplyMetrics { size_diff_hint: 5, delete_keys_hint: 0, written_bytes: 47, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.325 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.330 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.330 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.332 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.332 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.332 pd.rs:797: [DEBG] [region 1] schedule BatchSwitchWitness { peer_ids: [3], is_witnesses: [true], policy: TillSuccess } to id: 1 store_id: 1, region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 }
test_witness_switch_witness-0 2022/11/17 23:59:36.332 pd.rs:232: [ERRO] in make_region_heartbeat_response
test_witness_switch_witness-0 2022/11/17 23:59:36.332 pd.rs:307: [ERRO] begin at Operator::BatchSwitchWitness
test_witness_switch_witness-0 2022/11/17 23:59:36.332 pd.rs:222: [ERRO] end of new_pd_batch_switch_witnesses
test_witness_switch_witness-0 2022/11/17 23:59:36.332 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 } switch_witnesses { switch_witnesses { peer_id: 3 is_witness: true } }
test_witness_switch_witness-0 2022/11/17 23:59:36.332 pd.rs:1573: [INFO] try to switch witness, switch witness: switch_witnesses { peer_id: 3 is_witness: true }, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.332 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgAppend to: 2 log_term: 6 index: 7 entries { term: 6 index: 8 data: 0A0E08011204080110012A04080110011A0A080E7A060A0408031001 } commit: 7, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.332 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.332 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgAppend to: 3 log_term: 6 index: 7 entries { term: 6 index: 8 data: 0A0E08011204080110012A04080110011A0A080E7A060A0408031001 } commit: 7, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.332 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 50, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 50, msg_type: MsgAppend, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 entry_storage.rs:1053: [DEBG] append entries, count: 1, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgAppend, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 8 commit: 7, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgAppend, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgAppendResponse to: 1 index: 8 commit: 7, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 entry_storage.rs:1053: [DEBG] append entries, count: 1, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.333 entry_storage.rs:1053: [DEBG] append entries, count: 1, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.335 write.rs:813: [WARN] [store 1] async write too slow, write_kv: 0s, write_raft: 0.002469972s, send: 0.00000337s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.335 raft_log.rs:536: [DEBG] persisted index 8, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.335 store.rs:1038: [WARN] [store 1] handle 1 pending peers include 1 ready, 1 entries, 2 messages and 0 snapshots, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.337 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.337 write.rs:813: [WARN] [store 2] async write too slow, write_kv: 0s, write_raft: 0.003685508s, send: 0.000121679s, callback: 0s thread: sync-writer, takes: 3
test_witness_switch_witness 2022/11/17 23:59:36.337 raft_log.rs:536: [DEBG] persisted index 8, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.337 store.rs:1038: [WARN] [store 2] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.337 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.338 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 12, msg_type: MsgAppendResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.338 raft_log.rs:500: [DEBG] committing index 8, index: 8, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.338 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0s, write_raft: 0.004015206s, send: 0.000131169s, callback: 0s thread: sync-writer, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.338 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.338 raft_log.rs:536: [DEBG] persisted index 8, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.338 store.rs:1038: [WARN] [store 3] handle 1 pending peers include 1 ready, 1 entries, 0 messages and 0 snapshots, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.338 apply.rs:1636: [INFO] execute admin command, command: cmd_type: BatchSwitchWitness switch_witnesses { switch_witnesses { peer_id: 3 is_witness: true } }, index: 8, term: 6, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.338 apply.rs:3096: [INFO] exec BatchSwitchWitness, epoch: conf_ver: 1 version: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.339 peer_storage.rs:1144: [DEBG] writing merge state, state: region { id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } }, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.339 apply.rs:1353: [DEBG] applied command, index: 8, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.340 write.rs:813: [WARN] [store 1] async write too slow, write_kv: 0s, write_raft: 0.002155533s, send: 0.0000017s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.340 store.rs:1038: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.340 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgAppendResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.341 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.341 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.343 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.344 apply.rs:708: [WARN] [store 1] handle ready 1 committed entries, takes: 10
test_witness_switch_witness 2022/11/17 23:59:36.344 peer.rs:2253: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 8 commit_index: 8 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [BatchSwitchWitness(SwitchWitness { succeeded: true, switches: [peer_id: 3 is_witness: true], region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } })], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 84, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.344 peer.rs:3579: [DEBG] update read progress, progress: Region(id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }), peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.344 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(UpdateRegion { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, role: Leader })
test_witness_switch_witness 2022/11/17 23:59:36.344 future.rs:72: [DEBG] scheduling task ChangeRole { role: Leader }
test_witness_switch_witness 2022/11/17 23:59:36.344 deadlock.rs:1012: [DEBG] handle change role, role: Leader
test_witness_switch_witness 2022/11/17 23:59:36.347 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.347 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.347 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.347 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.347 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.347 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.347 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.347 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.347 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 apply.rs:1636: [INFO] execute admin command, command: cmd_type: BatchSwitchWitness switch_witnesses { switch_witnesses { peer_id: 3 is_witness: true } }, index: 8, term: 6, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 apply.rs:1636: [INFO] execute admin command, command: cmd_type: BatchSwitchWitness switch_witnesses { switch_witnesses { peer_id: 3 is_witness: true } }, index: 8, term: 6, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 apply.rs:3096: [INFO] exec BatchSwitchWitness, epoch: conf_ver: 1 version: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 apply.rs:3096: [INFO] exec BatchSwitchWitness, epoch: conf_ver: 1 version: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 peer_storage.rs:1144: [DEBG] writing merge state, state: region { id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } }, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 apply.rs:1353: [DEBG] applied command, index: 8, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 peer_storage.rs:1144: [DEBG] writing merge state, state: region { id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } }, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.348 apply.rs:1353: [DEBG] applied command, index: 8, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.350 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.350 write.rs:813: [WARN] [store 2] async write too slow, write_kv: 0s, write_raft: 0.002340012s, send: 0.000105569s, callback: 0s thread: sync-writer, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.350 store.rs:1038: [WARN] [store 2] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 2
test_witness_switch_witness 2022/11/17 23:59:36.350 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.352 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.352 write.rs:758: [DEBG] send raft msg in write thread, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1, tag: sync-writer
test_witness_switch_witness 2022/11/17 23:59:36.352 write.rs:813: [WARN] [store 3] async write too slow, write_kv: 0s, write_raft: 0.004229894s, send: 0.00009933s, callback: 0s thread: sync-writer, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.352 store.rs:1038: [WARN] [store 3] handle 1 pending peers include 1 ready, 0 entries, 0 messages and 0 snapshots, takes: 4
test_witness_switch_witness 2022/11/17 23:59:36.352 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.352 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.353 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.354 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.354 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.354 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.354 apply.rs:708: [WARN] [store 3] handle ready 1 committed entries, takes: 10
test_witness_switch_witness 2022/11/17 23:59:36.354 peer.rs:2253: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 8 commit_index: 8 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [BatchSwitchWitness(SwitchWitness { succeeded: true, switches: [peer_id: 3 is_witness: true], region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } })], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 84, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.355 apply.rs:708: [WARN] [store 2] handle ready 1 committed entries, takes: 10
test_witness_switch_witness 2022/11/17 23:59:36.355 peer.rs:2253: [DEBG] async apply finish, res: ApplyRes { region_id: 1, apply_state: applied_index: 8 commit_index: 8 commit_term: 6 truncated_state { index: 5 term: 5 }, applied_term: 6, exec_res: [BatchSwitchWitness(SwitchWitness { succeeded: true, switches: [peer_id: 3 is_witness: true], region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true } })], metrics: ApplyMetrics { size_diff_hint: 0, delete_keys_hint: 0, written_bytes: 84, written_keys: 2, lock_cf_written_bytes: 0 }, bucket_stat: None, write_seqno: [] }, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.355 peer.rs:3579: [DEBG] update read progress, progress: Region(id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }), peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.355 peer.rs:3579: [DEBG] update read progress, progress: Region(id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }), peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.355 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(UpdateRegion { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, role: Follower })
test_witness_switch_witness 2022/11/17 23:59:36.355 pool.rs:123: [DEBG] scheduling task RaftStoreEvent(UpdateRegion { region: id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, role: Follower })
test_witness_switch_witness 2022/11/17 23:59:36.355 future.rs:72: [DEBG] scheduling task ChangeRole { role: Follower }
test_witness_switch_witness 2022/11/17 23:59:36.355 future.rs:72: [DEBG] scheduling task ChangeRole { role: Follower }
test_witness_switch_witness 2022/11/17 23:59:36.355 pool.rs:123: [DEBG] scheduling task Destroy 1 [7A, 7B)
test_witness_switch_witness 2022/11/17 23:59:36.355 deadlock.rs:1012: [DEBG] handle change role, role: Follower
test_witness_switch_witness 2022/11/17 23:59:36.355 deadlock.rs:1012: [DEBG] handle change role, role: Follower
test_witness_switch_witness-0 2022/11/17 23:59:36.355 region.rs:602: [INFO] register deleting data in range, end_key: 7B, start_key: 7A, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.356 region.rs:636: [INFO] delete data in range because of stale, end_key: 7B, start_key: 7A, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.363 peer.rs:2345: [DEBG] renew lease, reason: tick, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.363 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.369 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.369 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.369 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.369 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.369 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.369 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.369 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.369 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.370 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.370 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.370 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.370 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.370 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.370 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.370 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.373 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.374 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.374 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.379 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.379 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.379 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.383 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.391 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.391 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.391 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.391 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.391 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.391 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.391 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.391 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.392 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.392 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.392 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.392 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.392 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.392 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.392 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.393 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.396 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.396 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.401 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.401 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.401 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.403 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.413 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.413 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.413 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.413 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.413 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.414 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.414 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.414 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.414 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.414 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.414 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.414 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.414 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.414 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.414 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.415 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.418 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.418 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.423 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.423 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.423 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.424 peer.rs:2345: [DEBG] renew lease, reason: tick, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.424 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.434 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.435 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.435 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.435 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.435 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.435 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.435 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.435 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.435 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.436 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.436 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.436 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.436 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.436 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.436 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.436 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.440 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.440 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.444 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.445 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.445 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.445 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.455 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.457 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.457 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.457 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.457 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.457 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.457 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.457 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.457 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.458 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.458 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.458 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.458 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.458 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.458 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.458 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.462 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.462 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.465 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.467 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.467 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.467 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.475 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.475 pool.rs:123: [DEBG] scheduling task compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(78.78µs), store_process_duration: Some(31.15µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:36.475 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(78.78µs), store_process_duration: Some(31.15µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:36.479 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.479 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.479 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.479 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.479 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.479 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.479 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.479 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.480 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.480 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.480 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.480 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.480 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.480 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.480 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.484 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.484 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.485 peer.rs:2345: [DEBG] renew lease, reason: tick, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.485 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.489 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.489 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.489 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.495 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.501 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.501 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.501 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.501 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.501 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.501 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.502 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.502 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.502 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.502 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.502 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.502 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.502 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.502 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.502 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.506 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.506 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.506 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.511 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.511 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.511 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.516 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.523 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.523 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.523 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.523 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.523 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.523 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.524 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.524 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.524 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.524 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.524 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.524 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.524 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.524 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.524 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.526 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.528 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.528 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.533 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.533 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.533 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.536 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.545 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.545 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.545 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.545 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.545 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.545 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.545 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 peer.rs:2345: [DEBG] renew lease, reason: tick, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8 context: 7A43618875B9402086F8D0AD5F745E3A, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8 context: 7A43618875B9402086F8D0AD5F745E3A, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 peer.rs:4000: [DEBG] request to get a read index, is_leader: true, peer_id: 1, region_id: 1, request_id: 7a436188-75b9-4020-86f8-d0ad5f745e3a
test_witness_switch_witness 2022/11/17 23:59:36.546 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 28, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.546 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.547 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 28, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 store.rs:1038: [WARN] [store 1] handle 1 pending peers include 1 ready, 0 entries, 2 messages and 0 snapshots, takes: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8 context: 7A43618875B9402086F8D0AD5F745E3A, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8 context: 7A43618875B9402086F8D0AD5F745E3A, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 28, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.547 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 28, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.548 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.548 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.548 peer.rs:3284: [DEBG] handle reads with a read index, peer_id: 1, region_id: 1, request_id: 7a436188-75b9-4020-86f8-d0ad5f745e3a
test_witness_switch_witness 2022/11/17 23:59:36.548 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.550 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.550 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.555 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.555 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.555 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.557 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.567 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.567 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.567 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.567 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.567 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.567 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.568 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.572 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.572 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.577 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.577 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.577 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.577 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.578 peer.rs:5247: [DEBG] send extra msg, to: 2, msg_type: MsgHibernateRequest, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.578 peer.rs:5247: [DEBG] send extra msg, to: 3, msg_type: MsgHibernateRequest, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.578 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHibernateRequest, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.578 peer.rs:5247: [DEBG] send extra msg, to: 1, msg_type: MsgHibernateResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.578 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHibernateRequest, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.578 peer.rs:5247: [DEBG] send extra msg, to: 1, msg_type: MsgHibernateResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.578 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHibernateResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.579 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHibernateResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.587 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.589 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.589 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.589 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.589 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.589 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.589 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.589 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.589 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.590 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.590 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.590 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.590 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.590 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.590 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.590 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.594 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.594 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.597 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.599 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.599 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.599 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.608 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.608 peer.rs:2345: [DEBG] renew lease, reason: tick, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.611 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.611 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.611 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.611 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.611 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.611 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.611 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.611 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.611 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.612 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.612 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.612 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.612 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.612 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.612 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.616 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.616 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.618 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.621 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.621 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.621 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.628 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.633 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.633 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.633 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.633 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.633 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.634 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.638 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.638 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.638 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.643 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.643 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.643 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.648 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.651 pool.rs:123: [DEBG] scheduling task compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(78.82µs), store_process_duration: Some(39.44µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:36.651 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 1, duration RaftstoreDuration { store_wait_duration: Some(78.82µs), store_process_duration: Some(39.44µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:36.655 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.655 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.655 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.655 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.655 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.655 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.655 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.655 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.656 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.656 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.656 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.656 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.656 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.656 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.656 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.658 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.660 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.660 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.665 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.665 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.665 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.669 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.669 peer.rs:2345: [DEBG] renew lease, reason: tick, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.677 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.677 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.677 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.677 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.677 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.677 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.677 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.677 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.678 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.678 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.678 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.678 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.678 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.678 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.678 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.679 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.682 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.682 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.687 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.687 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.687 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.689 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.699 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.699 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.699 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.699 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.699 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.699 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.699 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.699 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.700 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.700 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.700 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.700 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.700 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.700 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.700 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.700 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.704 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.704 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.709 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.709 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.709 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.709 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.719 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.721 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.721 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.721 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.721 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.721 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.721 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.721 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.722 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.722 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.722 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.722 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.722 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.722 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.722 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.722 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.726 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.726 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.730 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.730 peer.rs:2345: [DEBG] renew lease, reason: tick, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.730 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8 context: DCDC58951B17434CA1394CB0144706B0, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.730 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8 context: DCDC58951B17434CA1394CB0144706B0, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.730 peer.rs:4000: [DEBG] request to get a read index, is_leader: true, peer_id: 1, region_id: 1, request_id: dcdc5895-1b17-434c-a139-4cb0144706b0
test_witness_switch_witness 2022/11/17 23:59:36.730 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.730 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 28, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.730 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 28, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.731 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8 context: DCDC58951B17434CA1394CB0144706B0, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.731 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.731 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:36.731 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 28, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.731 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8 context: DCDC58951B17434CA1394CB0144706B0, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 28, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:3284: [DEBG] handle reads with a read index, peer_id: 1, region_id: 1, request_id: dcdc5895-1b17-434c-a139-4cb0144706b0
test_witness_switch_witness 2022/11/17 23:59:36.731 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.737 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.737 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.740 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.743 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.743 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.743 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.743 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.743 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.743 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.743 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.743 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.743 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.744 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.744 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.744 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.744 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.744 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.744 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.748 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.748 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.750 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.753 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.753 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.753 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.760 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.765 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.765 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.765 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.765 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.765 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.765 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.766 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.766 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.766 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.766 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.766 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.766 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.766 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.766 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.766 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.770 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.770 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.770 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.775 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.775 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.775 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.780 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.783 pool.rs:123: [DEBG] scheduling task compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(50.75µs), store_process_duration: Some(17.86µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:36.783 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(50.75µs), store_process_duration: Some(17.86µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:36.787 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.787 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.787 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.787 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.787 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.787 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.788 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.788 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.788 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.788 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.788 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.788 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.788 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.788 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.788 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.791 peer.rs:2345: [DEBG] renew lease, reason: tick, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.791 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.792 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.792 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.797 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.797 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.797 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.801 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.809 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.809 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.809 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.809 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.809 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.809 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.809 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.809 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.810 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.810 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.810 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.810 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.810 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.810 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.810 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.811 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.814 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.814 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.819 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.819 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.819 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.821 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.831 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.831 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.831 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.831 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.831 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.831 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.831 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.831 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.831 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.832 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.832 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.832 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.832 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.832 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.832 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.832 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.836 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.836 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.841 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.841 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.841 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.841 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.852 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.852 peer.rs:2345: [DEBG] renew lease, reason: tick, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 0, peer_id: 1, region_id: 1, res: Some(CheckTickResult { leader: true, up_to_date: true, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.853 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.853 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.854 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.854 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.854 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.854 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.854 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:36.858 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.858 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:36.862 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.863 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.863 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:36.863 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:36.872 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.882 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.892 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.896 pool.rs:123: [DEBG] scheduling task get store's information: cpu_usages [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "store-read-low:", key: "stats-monitor::", key: "sst-importer0", key: "yatp_pool::test", key: "apply-0::test_w", key: "resolver-execut", key: "timer::test_wit" value: 1, key: "backtrace-loade", key: "integrations-85", key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-", key: "server-cluster:", key: "cleanup-worker:", key: "default-executo", key: "raftlog-fetch-w", key: "sched-worker-po", key: "raftstore::test" value: 39, key: "rocksdb:low", key: "store-read-norm", key: "grpc-poll-1", key: "purge-worker::t", key: "region-collecto", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te", key: "test-pd-worker:", key: "resource-meteri", key: "region-worker::", key: "raftstore-1-low", key: "grpc_global_tim", key: "steady-timer::t" value: 1, key: "rocksdb:high", key: "refreash-config", key: "apply-low-0::te", key: "snap-generator:", key: "raftstore-1-0::" value: 4], read_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "store-read-low:", key: "stats-monitor::", key: "sst-importer0", key: "yatp_pool::test", key: "apply-0::test_w", key: "resolver-execut", key: "timer::test_wit", key: "backtrace-loade", key: "integrations-85", key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-", key: "server-cluster:", key: "cleanup-worker:", key: "default-executo", key: "raftlog-fetch-w", key: "sched-worker-po", key: "raftstore::test", key: "rocksdb:low", key: "store-read-norm", key: "grpc-poll-1", key: "purge-worker::t", key: "region-collecto", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te", key: "test-pd-worker:", key: "resource-meteri", key: "region-worker::", key: "raftstore-1-low", key: "grpc_global_tim", key: "steady-timer::t", key: "rocksdb:high", key: "refreash-config", key: "apply-low-0::te", key: "snap-generator:", key: "raftstore-1-0::"], write_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "store-read-low:", key: "stats-monitor::", key: "sst-importer0", key: "yatp_pool::test", key: "apply-0::test_w" value: 3696, key: "resolver-execut", key: "timer::test_wit", key: "backtrace-loade", key: "integrations-85" value: 3696, key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-" value: 3696, key: "server-cluster:" value: 3696, key: "cleanup-worker:", key: "default-executo", key: "raftlog-fetch-w", key: "sched-worker-po" value: 7392, key: "raftstore::test" value: 373371, key: "rocksdb:low", key: "store-read-norm", key: "grpc-poll-1", key: "purge-worker::t", key: "region-collecto", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te" value: 3696, key: "test-pd-worker:" value: 18483, key: "resource-meteri", key: "region-worker::", key: "raftstore-1-low", key: "grpc_global_tim", key: "steady-timer::t", key: "rocksdb:high", key: "refreash-config", key: "apply-low-0::te" value: 3696, key: "snap-generator:", key: "raftstore-1-0::" value: 81328]
test_witness_switch_witness-0 2022/11/17 23:59:36.896 pd.rs:1921: [DEBG] executing task, task: get store's information: cpu_usages [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "store-read-low:", key: "stats-monitor::", key: "sst-importer0", key: "yatp_pool::test", key: "apply-0::test_w", key: "resolver-execut", key: "timer::test_wit" value: 1, key: "backtrace-loade", key: "integrations-85", key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-", key: "server-cluster:", key: "cleanup-worker:", key: "default-executo", key: "raftlog-fetch-w", key: "sched-worker-po", key: "raftstore::test" value: 39, key: "rocksdb:low", key: "store-read-norm", key: "grpc-poll-1", key: "purge-worker::t", key: "region-collecto", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te", key: "test-pd-worker:", key: "resource-meteri", key: "region-worker::", key: "raftstore-1-low", key: "grpc_global_tim", key: "steady-timer::t" value: 1, key: "rocksdb:high", key: "refreash-config", key: "apply-low-0::te", key: "snap-generator:", key: "raftstore-1-0::" value: 4], read_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "store-read-low:", key: "stats-monitor::", key: "sst-importer0", key: "yatp_pool::test", key: "apply-0::test_w", key: "resolver-execut", key: "timer::test_wit", key: "backtrace-loade", key: "integrations-85", key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-", key: "server-cluster:", key: "cleanup-worker:", key: "default-executo", key: "raftlog-fetch-w", key: "sched-worker-po", key: "raftstore::test", key: "rocksdb:low", key: "store-read-norm", key: "grpc-poll-1", key: "purge-worker::t", key: "region-collecto", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te", key: "test-pd-worker:", key: "resource-meteri", key: "region-worker::", key: "raftstore-1-low", key: "grpc_global_tim", key: "steady-timer::t", key: "rocksdb:high", key: "refreash-config", key: "apply-low-0::te", key: "snap-generator:", key: "raftstore-1-0::"], write_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "store-read-low:", key: "stats-monitor::", key: "sst-importer0", key: "yatp_pool::test", key: "apply-0::test_w" value: 3696, key: "resolver-execut", key: "timer::test_wit", key: "backtrace-loade", key: "integrations-85" value: 3696, key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-" value: 3696, key: "server-cluster:" value: 3696, key: "cleanup-worker:", key: "default-executo", key: "raftlog-fetch-w", key: "sched-worker-po" value: 7392, key: "raftstore::test" value: 373371, key: "rocksdb:low", key: "store-read-norm", key: "grpc-poll-1", key: "purge-worker::t", key: "region-collecto", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te" value: 3696, key: "test-pd-worker:" value: 18483, key: "resource-meteri", key: "region-worker::", key: "raftstore-1-low", key: "grpc_global_tim", key: "steady-timer::t", key: "rocksdb:high", key: "refreash-config", key: "apply-low-0::te" value: 3696, key: "snap-generator:", key: "raftstore-1-0::" value: 81328]
test_witness_switch_witness 2022/11/17 23:59:36.902 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:36.902 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:36.902 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:36.902 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.902 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:36.903 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:36.913 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.923 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.933 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.943 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.953 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.964 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.974 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.976 pool.rs:123: [DEBG] scheduling task compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(57.291µs), store_process_duration: Some(21.35µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:36.976 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(57.291µs), store_process_duration: Some(21.35µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:36.984 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:36.994 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.005 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.007 pool.rs:123: [DEBG] scheduling task get store's information: cpu_usages [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::" value: 2, key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w", key: "resolver-execut", key: "timer::test_wit" value: 1, key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85", key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-", key: "snap-sender::te", key: "server-cluster:", key: "cleanup-worker:", key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po", key: "raftstore::test" value: 43, key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te", key: "test-pd-worker:", key: "raftstore-1-low", key: "region-worker::", key: "raftstore-2-0::" value: 2, key: "resource-meteri", key: "steady-timer::t" value: 1, key: "refreash-config", key: "apply-low-0::te", key: "rocksdb:high", key: "snap-generator:", key: "deadlock::test_", key: "grpc_global_tim", key: "raftstore-1-0::" value: 4], read_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::", key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w", key: "resolver-execut", key: "timer::test_wit", key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85", key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-", key: "snap-sender::te", key: "server-cluster:", key: "cleanup-worker:", key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po", key: "raftstore::test", key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te", key: "test-pd-worker:", key: "raftstore-1-low", key: "region-worker::", key: "raftstore-2-0::", key: "resource-meteri", key: "steady-timer::t", key: "refreash-config", key: "apply-low-0::te", key: "rocksdb:high", key: "snap-generator:", key: "deadlock::test_", key: "grpc_global_tim", key: "raftstore-1-0::"], write_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::" value: 8023, key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w" value: 8022, key: "resolver-execut", key: "timer::test_wit", key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85" value: 4011, key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-" value: 8022, key: "snap-sender::te", key: "server-cluster:" value: 4011, key: "cleanup-worker:", key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po" value: 12033, key: "raftstore::test" value: 405187, key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te" value: 4011, key: "test-pd-worker:" value: 20058, key: "raftstore-1-low", key: "region-worker::", key: "raftstore-2-0::" value: 64188, key: "resource-meteri" value: 4011, key: "steady-timer::t", key: "refreash-config", key: "apply-low-0::te" value: 4011, key: "rocksdb:high", key: "snap-generator:", key: "deadlock::test_", key: "grpc_global_tim", key: "raftstore-1-0::" value: 88258]
test_witness_switch_witness-0 2022/11/17 23:59:37.008 pd.rs:1921: [DEBG] executing task, task: get store's information: cpu_usages [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::" value: 2, key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w", key: "resolver-execut", key: "timer::test_wit" value: 1, key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85", key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-", key: "snap-sender::te", key: "server-cluster:", key: "cleanup-worker:", key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po", key: "raftstore::test" value: 43, key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te", key: "test-pd-worker:", key: "raftstore-1-low", key: "region-worker::", key: "raftstore-2-0::" value: 2, key: "resource-meteri", key: "steady-timer::t" value: 1, key: "refreash-config", key: "apply-low-0::te", key: "rocksdb:high", key: "snap-generator:", key: "deadlock::test_", key: "grpc_global_tim", key: "raftstore-1-0::" value: 4], read_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::", key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w", key: "resolver-execut", key: "timer::test_wit", key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85", key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-", key: "snap-sender::te", key: "server-cluster:", key: "cleanup-worker:", key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po", key: "raftstore::test", key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te", key: "test-pd-worker:", key: "raftstore-1-low", key: "region-worker::", key: "raftstore-2-0::", key: "resource-meteri", key: "steady-timer::t", key: "refreash-config", key: "apply-low-0::te", key: "rocksdb:high", key: "snap-generator:", key: "deadlock::test_", key: "grpc_global_tim", key: "raftstore-1-0::"], write_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::" value: 8023, key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w" value: 8022, key: "resolver-execut", key: "timer::test_wit", key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85" value: 4011, key: "snap-handler::t", key: "background::tes", key: "sched-high-pri-" value: 8022, key: "snap-sender::te", key: "server-cluster:" value: 4011, key: "cleanup-worker:", key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po" value: 12033, key: "raftstore::test" value: 405187, key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "raft-stream::te" value: 4011, key: "test-pd-worker:" value: 20058, key: "raftstore-1-low", key: "region-worker::", key: "raftstore-2-0::" value: 64188, key: "resource-meteri" value: 4011, key: "steady-timer::t", key: "refreash-config", key: "apply-low-0::te" value: 4011, key: "rocksdb:high", key: "snap-generator:", key: "deadlock::test_", key: "grpc_global_tim", key: "raftstore-1-0::" value: 88258]
test_witness_switch_witness 2022/11/17 23:59:37.015 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.018 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:37.018 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:37.018 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:37.018 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:37.018 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:37.025 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.035 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.045 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.056 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.066 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.076 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.086 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.097 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.100 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.100 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.107 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.117 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.127 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.137 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.148 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.152 pool.rs:123: [DEBG] scheduling task compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(54.87µs), store_process_duration: Some(20.62µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:37.152 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 2, duration RaftstoreDuration { store_wait_duration: Some(54.87µs), store_process_duration: Some(20.62µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:37.158 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.168 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.178 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.189 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.198 pool.rs:123: [DEBG] scheduling task get store's information: cpu_usages [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::" value: 6, key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w", key: "raftstore-3-low", key: "resolver-execut", key: "timer::test_wit" value: 2, key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85", key: "background::tes", key: "snap-handler::t", key: "sched-high-pri-", key: "snap-sender::te", key: "server-cluster:", key: "cleanup-worker:", key: "raftstore-3-0::" value: 2, key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po", key: "raftstore::test" value: 42, key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "resource-meteri", key: "raft-stream::te", key: "test-pd-worker:", key: "region-worker::", key: "raftstore-1-low", key: "raftstore-2-0::" value: 2, key: "steady-timer::t" value: 1, key: "deadlock::test_", key: "apply-low-0::te", key: "refreash-config", key: "snap-generator:", key: "rocksdb:high", key: "grpc_global_tim", key: "raftstore-1-0::" value: 4], read_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::", key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w", key: "raftstore-3-low", key: "resolver-execut", key: "timer::test_wit", key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85", key: "background::tes", key: "snap-handler::t", key: "sched-high-pri-", key: "snap-sender::te", key: "server-cluster:", key: "cleanup-worker:", key: "raftstore-3-0::", key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po", key: "raftstore::test", key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "resource-meteri", key: "raft-stream::te", key: "test-pd-worker:", key: "region-worker::", key: "raftstore-1-low", key: "raftstore-2-0::", key: "steady-timer::t", key: "deadlock::test_", key: "apply-low-0::te", key: "refreash-config", key: "snap-generator:", key: "rocksdb:high", key: "grpc_global_tim", key: "raftstore-1-0::"], write_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test" value: 3972, key: "stats-monitor::" value: 11917, key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w" value: 15889, key: "raftstore-3-low", key: "resolver-execut", key: "timer::test_wit", key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85" value: 3972, key: "background::tes", key: "snap-handler::t", key: "sched-high-pri-" value: 11916, key: "snap-sender::te", key: "server-cluster:" value: 3972, key: "cleanup-worker:", key: "raftstore-3-0::" value: 63565, key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po" value: 15888, key: "raftstore::test" value: 401257, key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "resource-meteri" value: 3972, key: "raft-stream::te" value: 3972, key: "test-pd-worker:" value: 23836, key: "region-worker::" value: 3972, key: "raftstore-1-low", key: "raftstore-2-0::" value: 63565, key: "steady-timer::t", key: "deadlock::test_", key: "apply-low-0::te" value: 3972, key: "refreash-config", key: "snap-generator:", key: "rocksdb:high", key: "grpc_global_tim", key: "raftstore-1-0::" value: 87402]
test_witness_switch_witness 2022/11/17 23:59:37.199 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness-0 2022/11/17 23:59:37.199 pd.rs:1921: [DEBG] executing task, task: get store's information: cpu_usages [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::" value: 6, key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w", key: "raftstore-3-low", key: "resolver-execut", key: "timer::test_wit" value: 2, key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85", key: "background::tes", key: "snap-handler::t", key: "sched-high-pri-", key: "snap-sender::te", key: "server-cluster:", key: "cleanup-worker:", key: "raftstore-3-0::" value: 2, key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po", key: "raftstore::test" value: 42, key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "resource-meteri", key: "raft-stream::te", key: "test-pd-worker:", key: "region-worker::", key: "raftstore-1-low", key: "raftstore-2-0::" value: 2, key: "steady-timer::t" value: 1, key: "deadlock::test_", key: "apply-low-0::te", key: "refreash-config", key: "snap-generator:", key: "rocksdb:high", key: "grpc_global_tim", key: "raftstore-1-0::" value: 4], read_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test", key: "stats-monitor::", key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w", key: "raftstore-3-low", key: "resolver-execut", key: "timer::test_wit", key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85", key: "background::tes", key: "snap-handler::t", key: "sched-high-pri-", key: "snap-sender::te", key: "server-cluster:", key: "cleanup-worker:", key: "raftstore-3-0::", key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po", key: "raftstore::test", key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "resource-meteri", key: "raft-stream::te", key: "test-pd-worker:", key: "region-worker::", key: "raftstore-1-low", key: "raftstore-2-0::", key: "steady-timer::t", key: "deadlock::test_", key: "apply-low-0::te", key: "refreash-config", key: "snap-generator:", key: "rocksdb:high", key: "grpc_global_tim", key: "raftstore-1-0::"], write_io_rates [key: "re-metrics", key: "sst-recovery::t", key: "gc-worker::test" value: 3972, key: "stats-monitor::" value: 11917, key: "store-read-low:", key: "sst-importer0", key: "waiter-manager:", key: "time updater", key: "yatp_pool::test", key: "apply-0::test_w" value: 15889, key: "raftstore-3-low", key: "resolver-execut", key: "timer::test_wit", key: "deadlock-detect", key: "backtrace-loade", key: "integrations-85" value: 3972, key: "background::tes", key: "snap-handler::t", key: "sched-high-pri-" value: 11916, key: "snap-sender::te", key: "server-cluster:" value: 3972, key: "cleanup-worker:", key: "raftstore-3-0::" value: 63565, key: "raftlog-fetch-w", key: "default-executo", key: "sched-worker-po" value: 15888, key: "raftstore::test" value: 401257, key: "rocksdb:low", key: "raftstore-2-low", key: "region-collecto", key: "grpc-poll-1", key: "store-read-norm", key: "purge-worker::t", key: "debugger::test_", key: "lock-collector:", key: "grpc-poll-0", key: "store-read-high", key: "resource-meteri" value: 3972, key: "raft-stream::te" value: 3972, key: "test-pd-worker:" value: 23836, key: "region-worker::" value: 3972, key: "raftstore-1-low", key: "raftstore-2-0::" value: 63565, key: "steady-timer::t", key: "deadlock::test_", key: "apply-low-0::te" value: 3972, key: "refreash-config", key: "snap-generator:", key: "rocksdb:high", key: "grpc_global_tim", key: "raftstore-1-0::" value: 87402]
test_witness_switch_witness 2022/11/17 23:59:37.209 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.215 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:37.215 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:37.215 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:37.215 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:37.215 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:37.219 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.230 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.240 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.250 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.260 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.270 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.281 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.284 pool.rs:123: [DEBG] scheduling task compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(101.329µs), store_process_duration: Some(47.23µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:37.285 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(101.329µs), store_process_duration: Some(47.23µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:37.291 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.301 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.311 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.321 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.332 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.342 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.352 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.362 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.373 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.383 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.393 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.403 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.413 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.424 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.434 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.444 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.454 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.464 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.475 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.477 pool.rs:123: [DEBG] scheduling task compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(103.36µs), store_process_duration: Some(47.94µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:37.478 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(103.36µs), store_process_duration: Some(47.94µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:37.485 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.495 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.505 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.515 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.526 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.536 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.546 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.556 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.567 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.577 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.587 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.597 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.607 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.618 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.628 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.638 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.648 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.653 pool.rs:123: [DEBG] scheduling task compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(79.551µs), store_process_duration: Some(34.29µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:37.653 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 3, duration RaftstoreDuration { store_wait_duration: Some(79.551µs), store_process_duration: Some(34.29µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:37.658 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.668 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.679 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.689 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.699 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.709 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.720 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.730 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.740 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.750 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.761 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.771 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.781 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.783 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.783 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.783 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.783 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.783 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.783 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.783 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.784 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.784 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.784 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.784 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.784 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.784 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.784 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.784 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:37.785 pool.rs:123: [DEBG] scheduling task compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(50.681µs), store_process_duration: Some(18.18µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:37.785 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(50.681µs), store_process_duration: Some(18.18µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:37.791 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.795 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:37.795 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:37.801 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.804 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:37.804 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:37.804 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:37.812 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.822 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.832 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.842 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.852 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.863 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.873 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.883 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.893 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.904 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.909 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:37.909 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:37.909 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:37.909 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:37.909 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:37.914 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.924 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.934 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.944 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.955 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.965 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.975 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.978 pool.rs:123: [DEBG] scheduling task compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(107.059µs), store_process_duration: Some(39.12µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:37.979 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(107.059µs), store_process_duration: Some(39.12µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:37.985 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:37.996 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.006 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.016 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.026 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.029 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:38.029 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:38.029 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:38.029 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:38.029 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:38.036 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.037 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.037 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.047 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.057 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.067 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.077 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.087 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.098 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.108 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.118 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.128 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.138 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.149 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.154 pool.rs:123: [DEBG] scheduling task compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(55.531µs), store_process_duration: Some(19.65µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:38.154 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 4, duration RaftstoreDuration { store_wait_duration: Some(55.531µs), store_process_duration: Some(19.65µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:38.159 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.169 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.179 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.189 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.200 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.210 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.220 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.230 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.230 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:38.230 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:38.231 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:38.231 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:38.231 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:38.240 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.251 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.261 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.271 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.281 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.286 pool.rs:123: [DEBG] scheduling task compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(82.61µs), store_process_duration: Some(34.98µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:38.286 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(82.61µs), store_process_duration: Some(34.98µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:38.292 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.302 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.312 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.322 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.332 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.342 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.353 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.363 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.373 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.383 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.393 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.404 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.414 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.424 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.434 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.445 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.455 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.465 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.475 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.479 pool.rs:123: [DEBG] scheduling task compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(80.351µs), store_process_duration: Some(35.16µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:38.479 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(80.351µs), store_process_duration: Some(35.16µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:38.485 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.495 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.506 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.516 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.526 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.536 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.546 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.557 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.567 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.577 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.588 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.598 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.608 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.618 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.628 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.639 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.649 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.655 pool.rs:123: [DEBG] scheduling task compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(96.069µs), store_process_duration: Some(38.99µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:38.656 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 5, duration RaftstoreDuration { store_wait_duration: Some(96.069µs), store_process_duration: Some(38.99µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:38.659 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.669 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.680 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.690 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.700 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.710 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.720 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.731 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.741 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.751 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.761 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.771 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.782 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.784 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.784 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.784 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.784 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.784 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.784 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.785 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.785 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.785 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.785 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.785 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.785 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.785 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.785 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.785 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:38.787 pool.rs:123: [DEBG] scheduling task compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(49.33µs), store_process_duration: Some(16.3µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:38.787 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(49.33µs), store_process_duration: Some(16.3µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:38.792 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.796 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:38.796 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:38.802 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.805 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:38.805 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:38.805 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:38.812 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.822 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.832 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.843 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.853 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.863 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.873 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.883 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.894 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.904 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.914 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.915 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:38.915 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:38.915 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:38.915 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:38.915 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:38.924 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.935 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.945 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.955 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.965 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.975 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.980 pool.rs:123: [DEBG] scheduling task compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(85.87µs), store_process_duration: Some(46.36µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:38.981 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(85.87µs), store_process_duration: Some(46.36µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:38.986 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:38.996 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.006 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.016 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.027 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.037 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.038 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.038 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.040 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:39.040 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:39.040 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:39.040 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:39.040 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:39.047 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.057 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.067 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.077 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.088 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.098 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.108 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.118 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.128 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.139 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.149 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.156 pool.rs:123: [DEBG] scheduling task compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(102.63µs), store_process_duration: Some(29.65µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:39.157 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 6, duration RaftstoreDuration { store_wait_duration: Some(102.63µs), store_process_duration: Some(29.65µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:39.159 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.169 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.179 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.190 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.200 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.210 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.220 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.230 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.240 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.246 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:39.247 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:39.247 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:39.247 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:39.247 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:39.251 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.261 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.271 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.281 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.289 pool.rs:123: [DEBG] scheduling task compute slow score: id 7, duration RaftstoreDuration { store_wait_duration: Some(89.31µs), store_process_duration: Some(38.91µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:39.289 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 7, duration RaftstoreDuration { store_wait_duration: Some(89.31µs), store_process_duration: Some(38.91µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:39.291 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.302 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.312 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.322 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.332 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.343 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.353 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.363 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.373 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.383 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.394 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.404 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.414 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.424 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.434 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.445 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.455 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.465 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.475 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.481 pool.rs:123: [DEBG] scheduling task compute slow score: id 7, duration RaftstoreDuration { store_wait_duration: Some(76.32µs), store_process_duration: Some(37.839µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:39.482 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 7, duration RaftstoreDuration { store_wait_duration: Some(76.32µs), store_process_duration: Some(37.839µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:39.486 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.496 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.506 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.516 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.526 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.537 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.547 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.557 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.567 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.578 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.588 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.598 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.608 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.619 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.629 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.639 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.649 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.657 pool.rs:123: [DEBG] scheduling task compute slow score: id 7, duration RaftstoreDuration { store_wait_duration: Some(82.46µs), store_process_duration: Some(33.69µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:39.658 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 7, duration RaftstoreDuration { store_wait_duration: Some(82.46µs), store_process_duration: Some(33.69µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:39.659 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.670 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.680 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.690 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.700 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.710 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.721 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.731 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.741 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.751 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.761 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.771 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.782 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.785 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.785 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.785 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.785 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.785 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.785 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.785 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.785 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.786 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.786 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.786 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.786 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.786 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.786 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.786 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:39.790 pool.rs:123: [DEBG] scheduling task compute slow score: id 8, duration RaftstoreDuration { store_wait_duration: Some(58.93µs), store_process_duration: Some(21.2µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:39.790 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 8, duration RaftstoreDuration { store_wait_duration: Some(58.93µs), store_process_duration: Some(21.2µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:39.792 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.797 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:39.797 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:39.802 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.806 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:39.806 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:39.806 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:39.812 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.822 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.832 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.843 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.853 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.863 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.873 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.883 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.893 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.904 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.914 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.921 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:39.921 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:39.921 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:39.921 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:39.921 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:39.924 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.934 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.945 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.955 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.965 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.975 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.982 pool.rs:123: [DEBG] scheduling task compute slow score: id 8, duration RaftstoreDuration { store_wait_duration: Some(54.6µs), store_process_duration: Some(22.79µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:39.982 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 8, duration RaftstoreDuration { store_wait_duration: Some(54.6µs), store_process_duration: Some(22.79µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:39.986 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:39.996 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.006 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.016 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.026 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.037 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.039 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.039 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.047 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.051 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:40.051 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:40.051 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:40.051 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:40.051 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:40.057 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.067 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.078 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.088 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.098 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.108 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.119 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.129 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.139 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.149 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.158 pool.rs:123: [DEBG] scheduling task compute slow score: id 8, duration RaftstoreDuration { store_wait_duration: Some(61.35µs), store_process_duration: Some(19.13µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:40.159 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 8, duration RaftstoreDuration { store_wait_duration: Some(61.35µs), store_process_duration: Some(19.13µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:40.159 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.170 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.180 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.190 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.200 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.211 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.221 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.231 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.241 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.252 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.262 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.263 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:40.263 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:40.263 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:40.263 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:40.263 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:40.272 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.282 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.290 pool.rs:123: [DEBG] scheduling task compute slow score: id 9, duration RaftstoreDuration { store_wait_duration: Some(96.269µs), store_process_duration: Some(42.88µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:40.291 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 9, duration RaftstoreDuration { store_wait_duration: Some(96.269µs), store_process_duration: Some(42.88µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:40.292 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.303 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.313 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.323 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.333 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.344 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.354 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.364 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.374 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.384 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.394 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.405 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.415 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.425 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.435 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.446 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.456 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.466 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.476 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.483 pool.rs:123: [DEBG] scheduling task compute slow score: id 9, duration RaftstoreDuration { store_wait_duration: Some(76.109µs), store_process_duration: Some(34.48µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:40.483 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 9, duration RaftstoreDuration { store_wait_duration: Some(76.109µs), store_process_duration: Some(34.48µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:40.486 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.496 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.507 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.517 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.527 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.537 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.547 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.558 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.568 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.578 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.588 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.599 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.609 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.619 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.629 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.640 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.650 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.659 pool.rs:123: [DEBG] scheduling task compute slow score: id 9, duration RaftstoreDuration { store_wait_duration: Some(104.819µs), store_process_duration: Some(36.03µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:40.660 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 9, duration RaftstoreDuration { store_wait_duration: Some(104.819µs), store_process_duration: Some(36.03µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:40.660 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.670 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.680 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.691 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.701 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.711 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.721 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.732 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.742 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.752 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.762 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.773 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.783 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.786 raft.rs:603: [DEBG] Sending from 1 to 2, msg: msg_type: MsgHeartbeat to: 2 commit: 8, to: 2, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.786 raft.rs:603: [DEBG] Sending from 1 to 3, msg: msg_type: MsgHeartbeat to: 3 commit: 8, to: 3, from: 1, raft_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.786 peer.rs:2697: [DEBG] handle raft ready, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.786 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 2, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.786 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 3, msg_size: 10, msg_type: MsgHeartbeat, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 3, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 raft.rs:603: [DEBG] Sending from 3 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 3, raft_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 2, from_peer_id: 1, message_type: MsgHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 peer.rs:2697: [DEBG] handle raft ready, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 raft.rs:603: [DEBG] Sending from 2 to 1, msg: msg_type: MsgHeartbeatResponse to: 1 commit: 8, to: 1, from: 2, raft_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 peer.rs:2697: [DEBG] handle raft ready, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 peer.rs:1791: [DEBG] send raft msg, disk_usage: Normal, to: 1, msg_size: 10, msg_type: MsgHeartbeatResponse, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 3, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.787 peer.rs:2441: [DEBG] handle raft message, to_peer_id: 1, from_peer_id: 2, message_type: MsgHeartbeatResponse, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:40.791 pool.rs:123: [DEBG] scheduling task compute slow score: id 10, duration RaftstoreDuration { store_wait_duration: Some(60.629µs), store_process_duration: Some(26.03µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:40.791 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 10, duration RaftstoreDuration { store_wait_duration: Some(60.629µs), store_process_duration: Some(26.03µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:40.793 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.798 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 2, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:40.798 peer.rs:2168: [DEBG] stop ticking, election_elapsed: 1, peer_id: 3, region_id: 1, res: Some(CheckTickResult { leader: false, up_to_date: false, reason: "" })
test_witness_switch_witness 2022/11/17 23:59:40.803 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.807 pool.rs:123: [DEBG] scheduling task heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:40.807 pd.rs:1921: [DEBG] executing task, task: heartbeat for region id: 1 region_epoch { conf_ver: 1 version: 1 } peers { id: 1 store_id: 1 } peers { id: 2 store_id: 2 } peers { id: 3 store_id: 3 is_witness: true }, leader 1, replication status None
test_witness_switch_witness-0 2022/11/17 23:59:40.807 pd.rs:717: [ERRO] handle_heartbeat, resp: region_id: 1 region_epoch { conf_ver: 1 version: 1 } target_peer { id: 1 store_id: 1 }
test_witness_switch_witness 2022/11/17 23:59:40.813 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.824 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.834 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.844 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.854 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.864 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.875 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.885 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.895 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.905 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.916 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.926 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.927 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:40.927 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:40.927 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:40.927 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:40.927 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 1, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:40.936 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.946 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.956 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.967 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.977 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.984 pool.rs:123: [DEBG] scheduling task compute slow score: id 10, duration RaftstoreDuration { store_wait_duration: Some(77.059µs), store_process_duration: Some(32.98µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:40.985 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 10, duration RaftstoreDuration { store_wait_duration: Some(77.059µs), store_process_duration: Some(32.98µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:40.987 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:40.997 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.008 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.018 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.028 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.038 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.040 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:41.040 peer.rs:2123: [DEBG] follower hibernates, missing_ticks: 21, election_elapsed: 1, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:41.049 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.059 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.062 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:41.062 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:41.062 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:41.062 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:41.062 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 2, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:41.069 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.079 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.089 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.100 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.110 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.120 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.130 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.141 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.151 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.160 pool.rs:123: [DEBG] scheduling task compute slow score: id 10, duration RaftstoreDuration { store_wait_duration: Some(82.8µs), store_process_duration: Some(29.32µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:41.161 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 10, duration RaftstoreDuration { store_wait_duration: Some(82.8µs), store_process_duration: Some(29.32µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:41.161 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.171 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.181 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.192 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.202 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.212 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.222 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.232 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.243 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.253 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.263 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.273 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.279 split_controller.rs:769: [DEBG] flush to load base split, is_unified_read_pool_busy: false, is_grpc_poll_busy: false, unified_read_pool_thread_usage: 0, max_unified_read_pool_thread_count: 1, avg_grpc_thread_usage: 0, grpc_thread_usage: 0, max_grpc_thread_count: 1
test_witness_switch_witness 2022/11/17 23:59:41.279 pool.rs:123: [DEBG] scheduling task auto split split regions, num is 0
test_witness_switch_witness-0 2022/11/17 23:59:41.279 pd.rs:1921: [DEBG] executing task, task: auto split split regions, num is 0
test_witness_switch_witness 2022/11/17 23:59:41.279 pool.rs:123: [DEBG] scheduling task report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness-0 2022/11/17 23:59:41.279 pd.rs:1921: [DEBG] executing task, task: report min resolved ts: store 3, resolved ts 0
test_witness_switch_witness 2022/11/17 23:59:41.283 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.292 pool.rs:123: [DEBG] scheduling task compute slow score: id 11, duration RaftstoreDuration { store_wait_duration: Some(84.98µs), store_process_duration: Some(34.94µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness-0 2022/11/17 23:59:41.293 pd.rs:1921: [DEBG] executing task, task: compute slow score: id 11, duration RaftstoreDuration { store_wait_duration: Some(84.98µs), store_process_duration: Some(34.94µs), store_write_duration: None, apply_wait_duration: None, apply_process_duration: None }
test_witness_switch_witness 2022/11/17 23:59:41.293 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.304 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.314 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.324 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.334 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.344 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.355 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.365 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.375 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.385 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.396 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.406 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.416 pd.rs:1122: [ERRO] in must finish swiwtch witness, p is witness: false
test_witness_switch_witness 2022/11/17 23:59:41.416 cluster.rs:770: [DEBG] about to shutdown cluster
test_witness_switch_witness 2022/11/17 23:59:41.416 cluster.rs:369: [DEBG] stopping node 1
test_witness_switch_witness 2022/11/17 23:59:41.417 :1711: [DEBG] ipv4:127.0.0.1:52138: Sending goaway err={"created":"@1668700781.417073582","description":"Server shutdown","file":"/home/wu/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.3+1.44.0-patched/grpc/src/core/lib/surface/server.cc","file_line":479,"grpc_status":0}
test_witness_switch_witness 2022/11/17 23:59:41.417 :1711: [DEBG] ipv4:127.0.0.1:52130: Sending goaway err={"created":"@1668700781.417075882","description":"Server shutdown","file":"/home/wu/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.3+1.44.0-patched/grpc/src/core/lib/surface/server.cc","file_line":479,"grpc_status":0}
test_witness_switch_witness 2022/11/17 23:59:41.417 node.rs:548: [INFO] stop raft store thread, store_id: 1
test_witness_switch_witness 2022/11/17 23:59:41.417 batch.rs:635: [INFO] shutdown batch system apply
test_witness_switch_witness 2022/11/17 23:59:41.418 router.rs:330: [INFO] broadcasting shutdown
test_witness_switch_witness 2022/11/17 23:59:41.418 router.rs:335: [DEBG] [region 1] shutdown mailbox
test_witness_switch_witness-0 2022/11/17 23:59:41.418 pool.rs:123: [DEBG] scheduling task CollectorReg
test_witness_switch_witness 2022/11/17 23:59:41.418 batch.rs:639: [DEBG] waiting for apply-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.418 batch.rs:639: [DEBG] waiting for apply-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.418 batch.rs:648: [INFO] batch system apply is stopped.
test_witness_switch_witness 2022/11/17 23:59:41.418 batch.rs:635: [INFO] shutdown batch system raftstore-1
test_witness_switch_witness 2022/11/17 23:59:41.418 router.rs:330: [INFO] broadcasting shutdown
test_witness_switch_witness 2022/11/17 23:59:41.418 router.rs:335: [DEBG] [region 1] shutdown mailbox
test_witness_switch_witness 2022/11/17 23:59:41.419 batch.rs:639: [DEBG] waiting for raftstore-1-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.419 batch.rs:639: [DEBG] waiting for raftstore-1-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.419 batch.rs:648: [INFO] batch system raftstore-1 is stopped.
test_witness_switch_witness-0 2022/11/17 23:59:41.419 kv.rs:863: [ERRO] KvService::batch_raft send response fail, err: RemoteStopped
test_witness_switch_witness-1 2022/11/17 23:59:41.419 mod.rs:235: [INFO] Storage stopped.
test_witness_switch_witness-0 2022/11/17 23:59:41.419 raft_client.rs:591: [ERRO] connection aborted, addr: 127.0.0.1:29876, receiver_err: Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: "Socket closed", details: [] })), sink_error: Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: "Socket closed", details: [] }))), store_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:41.419 raft_client.rs:892: [ERRO] connection abort, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:41.419 pool.rs:123: [DEBG] scheduling task resolve store 1 address
test_witness_switch_witness 2022/11/17 23:59:41.420 store.rs:2813: [INFO] broadcasting unreachable, unreachable_store_id: 1, store_id: 2
test_witness_switch_witness-0 2022/11/17 23:59:41.420 raft_client.rs:824: [INFO] resolve store address ok, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:41.420 raft_client.rs:706: [INFO] server: new connection with tikv endpoint, store_id: 1, addr: 127.0.0.1:29876
test_witness_switch_witness-0 2022/11/17 23:59:41.420 raft_client.rs:853: [DEBG] connecting to store, addr: 127.0.0.1:29876, store_id: 1
2022/11/17 23:59:41.420 :945: [INFO] subchannel 0x7fdff800ecc0 {address=ipv4:127.0.0.1:29876, args=grpc.client_channel_factory=0x7fe1d0001ee0, grpc.default_authority=127.0.0.1:29876, grpc.default_compression_algorithm=0, grpc.gprc_min_message_size_to_compress=4096, grpc.gzip_compression_level=2, grpc.http2.lookahead_bytes=2097152, grpc.initial_reconnect_backoff_ms=100, grpc.internal.subchannel_pool=0x7fe39c0075c0, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.max_reconnect_backoff_ms=100, grpc.primary_user_agent=grpc-rust/0.10.3, grpc.resource_quota=0x7fe1d00027c0, grpc.server_uri=dns:///127.0.0.1:29876, random id=4}: connect failed: {"created":"@1668700781.420579169","description":"Failed to connect to remote host: Connection refused","errno":111,"file":"/home/wu/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.3+1.44.0-patched/grpc/src/core/lib/iomgr/tcp_client_posix.cc","file_line":200,"os_error":"Connection refused","syscall":"connect","target_address":"ipv4:127.0.0.1:29876"}
2022/11/17 23:59:41.421 :887: [INFO] subchannel 0x7fdff800ecc0 {address=ipv4:127.0.0.1:29876, args=grpc.client_channel_factory=0x7fe1d0001ee0, grpc.default_authority=127.0.0.1:29876, grpc.default_compression_algorithm=0, grpc.gprc_min_message_size_to_compress=4096, grpc.gzip_compression_level=2, grpc.http2.lookahead_bytes=2097152, grpc.initial_reconnect_backoff_ms=100, grpc.internal.subchannel_pool=0x7fe39c0075c0, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.max_reconnect_backoff_ms=100, grpc.primary_user_agent=grpc-rust/0.10.3, grpc.resource_quota=0x7fe1d00027c0, grpc.server_uri=dns:///127.0.0.1:29876, random id=4}: Retry in 99 milliseconds
test_witness_switch_witness 2022/11/17 23:59:41.429 cluster.rs:376: [DEBG] node 1 stopped
test_witness_switch_witness 2022/11/17 23:59:41.429 cluster.rs:369: [DEBG] stopping node 2
test_witness_switch_witness 2022/11/17 23:59:41.429 :1711: [DEBG] ipv4:127.0.0.1:49816: Sending goaway err={"created":"@1668700781.429290820","description":"Server shutdown","file":"/home/wu/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.3+1.44.0-patched/grpc/src/core/lib/surface/server.cc","file_line":479,"grpc_status":0}
test_witness_switch_witness 2022/11/17 23:59:41.430 node.rs:548: [INFO] stop raft store thread, store_id: 2
test_witness_switch_witness 2022/11/17 23:59:41.430 batch.rs:635: [INFO] shutdown batch system apply
test_witness_switch_witness 2022/11/17 23:59:41.430 router.rs:330: [INFO] broadcasting shutdown
test_witness_switch_witness 2022/11/17 23:59:41.430 router.rs:335: [DEBG] [region 1] shutdown mailbox
test_witness_switch_witness-0 2022/11/17 23:59:41.430 pool.rs:123: [DEBG] scheduling task CollectorReg
test_witness_switch_witness 2022/11/17 23:59:41.430 batch.rs:639: [DEBG] waiting for apply-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.430 batch.rs:639: [DEBG] waiting for apply-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.430 batch.rs:648: [INFO] batch system apply is stopped.
test_witness_switch_witness 2022/11/17 23:59:41.430 batch.rs:635: [INFO] shutdown batch system raftstore-2
test_witness_switch_witness 2022/11/17 23:59:41.431 router.rs:330: [INFO] broadcasting shutdown
test_witness_switch_witness 2022/11/17 23:59:41.431 router.rs:335: [DEBG] [region 1] shutdown mailbox
test_witness_switch_witness-0 2022/11/17 23:59:41.431 kv.rs:863: [ERRO] KvService::batch_raft send response fail, err: RemoteStopped
test_witness_switch_witness 2022/11/17 23:59:41.431 batch.rs:639: [DEBG] waiting for raftstore-2-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.431 batch.rs:639: [DEBG] waiting for raftstore-2-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.431 batch.rs:648: [INFO] batch system raftstore-2 is stopped.
test_witness_switch_witness-0 2022/11/17 23:59:41.431 raft_client.rs:591: [ERRO] connection aborted, addr: 127.0.0.1:29877, receiver_err: Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: "Socket closed", details: [] })), sink_error: Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: "Socket closed", details: [] }))), store_id: 2
test_witness_switch_witness-1 2022/11/17 23:59:41.431 mod.rs:235: [INFO] Storage stopped.
test_witness_switch_witness-1 2022/11/17 23:59:41.441 kv.rs:863: [ERRO] KvService::batch_raft send response fail, err: RemoteStopped
test_witness_switch_witness 2022/11/17 23:59:41.441 cluster.rs:376: [DEBG] node 2 stopped
test_witness_switch_witness 2022/11/17 23:59:41.441 cluster.rs:369: [DEBG] stopping node 3
test_witness_switch_witness-1 2022/11/17 23:59:41.441 raft_client.rs:591: [ERRO] connection aborted, addr: 127.0.0.1:29876, receiver_err: Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: "Socket closed", details: [] })), sink_error: Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: "Socket closed", details: [] }))), store_id: 1
test_witness_switch_witness 2022/11/17 23:59:41.441 :1711: [DEBG] ipv4:127.0.0.1:49284: Sending goaway err={"created":"@1668700781.441716815","description":"Server shutdown","file":"/home/wu/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.3+1.44.0-patched/grpc/src/core/lib/surface/server.cc","file_line":479,"grpc_status":0}
test_witness_switch_witness-0 2022/11/17 23:59:41.441 raft_client.rs:892: [ERRO] connection abort, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:41.441 pool.rs:123: [DEBG] scheduling task resolve store 1 address
test_witness_switch_witness 2022/11/17 23:59:41.442 store.rs:2813: [INFO] broadcasting unreachable, unreachable_store_id: 1, store_id: 3
test_witness_switch_witness 2022/11/17 23:59:41.442 peer.rs:2054: [DEBG] failed to schedule peer tick, err: sending on a disconnected channel, tick: Raft, peer_id: 2, region_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:41.442 raft_client.rs:824: [INFO] resolve store address ok, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness-0 2022/11/17 23:59:41.442 raft_client.rs:706: [INFO] server: new connection with tikv endpoint, store_id: 1, addr: 127.0.0.1:29876
test_witness_switch_witness-0 2022/11/17 23:59:41.442 raft_client.rs:853: [DEBG] connecting to store, addr: 127.0.0.1:29876, store_id: 1
test_witness_switch_witness 2022/11/17 23:59:41.442 node.rs:548: [INFO] stop raft store thread, store_id: 3
test_witness_switch_witness 2022/11/17 23:59:41.442 batch.rs:635: [INFO] shutdown batch system apply
test_witness_switch_witness 2022/11/17 23:59:41.442 router.rs:330: [INFO] broadcasting shutdown
test_witness_switch_witness 2022/11/17 23:59:41.442 router.rs:335: [DEBG] [region 1] shutdown mailbox
test_witness_switch_witness-0 2022/11/17 23:59:41.442 pool.rs:123: [DEBG] scheduling task CollectorReg
test_witness_switch_witness 2022/11/17 23:59:41.443 batch.rs:639: [DEBG] waiting for apply-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.443 batch.rs:639: [DEBG] waiting for apply-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.443 batch.rs:648: [INFO] batch system apply is stopped.
test_witness_switch_witness 2022/11/17 23:59:41.443 batch.rs:635: [INFO] shutdown batch system raftstore-3
test_witness_switch_witness 2022/11/17 23:59:41.443 router.rs:330: [INFO] broadcasting shutdown
test_witness_switch_witness 2022/11/17 23:59:41.443 router.rs:335: [DEBG] [region 1] shutdown mailbox
test_witness_switch_witness 2022/11/17 23:59:41.443 batch.rs:639: [DEBG] waiting for raftstore-3-0::test_witness_switch_witness
test_witness_switch_witness-0 2022/11/17 23:59:41.443 kv.rs:863: [ERRO] KvService::batch_raft send response fail, err: RemoteStopped
test_witness_switch_witness 2022/11/17 23:59:41.443 batch.rs:639: [DEBG] waiting for raftstore-3-low-0::test_witness_switch_witness
test_witness_switch_witness 2022/11/17 23:59:41.444 batch.rs:648: [INFO] batch system raftstore-3 is stopped.
test_witness_switch_witness-1 2022/11/17 23:59:41.444 mod.rs:235: [INFO] Storage stopped.
test_witness_switch_witness 2022/11/17 23:59:41.452 peer.rs:2054: [DEBG] failed to schedule peer tick, err: sending on a disconnected channel, tick: PdHeartbeat, peer_id: 2, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:41.453 peer.rs:2054: [DEBG] failed to schedule peer tick, err: sending on a disconnected channel, tick: Raft, peer_id: 3, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:41.453 peer.rs:2054: [DEBG] failed to schedule peer tick, err: sending on a disconnected channel, tick: RaftLogGc, peer_id: 1, region_id: 1
test_witness_switch_witness 2022/11/17 23:59:41.455 cluster.rs:376: [DEBG] node 3 stopped
test_witness_switch_witness-1 2022/11/17 23:59:41.455 raft_client.rs:591: [ERRO] connection aborted, addr: 127.0.0.1:29878, receiver_err: Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: "Socket closed", details: [] })), sink_error: Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: "Socket closed", details: [] }))), store_id: 3
test_witness_switch_witness 2022/11/17 23:59:41.456 cluster.rs:787: [DEBG] all nodes are shut down.
test_witness_switch_witness 2022/11/17 23:59:41.457 runner.rs:49: [DEBG] case end, name: raftstore::test_witness::test_witness_switch_witness
